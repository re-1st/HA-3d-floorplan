# kiosk_mode:
#   user_settings:
#     - users:
#         - "tablet"
#         - "edge"
#         - "bas"
#         - "firefox"
#       hide_header: true
# kiosk: true
popup_cards:
  input_select.radio:
    title: Radio
    hide_header: false
    # auto_close: true
    card:
      type: "custom:select-list-card"
      entity: input_select.radio
      title: Radiostation
      icon: mdi:radio
      max_options: 12
      scroll_to_selected: false
      show_toggle: false
      truncate: false

title: Floorplan
views:
  #############################################################################################################################################
  #                                                                                                                                           #
  #                                                              Floorplan View                                                               #
  #                                                                                                                                           #
  #############################################################################################################################################

  - title: Begane grond
    icon: "mdi:floor-plan"
    panel: true
    theme: "Custom Dark"
    cards:
      - type: picture-elements
        image: /local/ui/floorplan/0fl/floorplannight.jpg
        style:
          left: 50%
          top: 50%
          width: 100%

        elements:
          - action: none
            entity: input_select.weersituatie
            hold_action:
              action: none
            state_image:
              middag: /local/ui/floorplan/0fl/floorplanday.jpg
              begin_dag: /local/ui/floorplan/0fl/floorplanday.jpg
              einde_dag: /local/ui/floorplan/0fl/woonkamer_einde_dag.jpg?v=12
              nacht: /local/ui/floorplan/0fl/floorplannight.jpg?v=12
              natte_nacht: /local/ui/floorplan/0fl/floorplannight.jpg?v=12
              bewolkt: /local/ui/floorplan/0fl/floorplanbewolkt.jpg?v=12
              regen: /local/ui/floorplan/0fl/floorplanregen0.jpg
            style:
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image
          - type: conditional
            conditions:
              - entity: input_boolean.smoke
                state: "off"
            elements:
              - action: none
                image: /local/ui/nixx.png
                entity: input_select.weersituatie
                hold_action:
                  action: none
                state_image:
                  "regen": /local/ui/floorplan/weather/raincomp-half.gif
                style:
                  left: 75%
                  mix-blend-mode: lighten
                  top: 25%
                  width: 110%
                tap_action:
                  action: none
                type: image
          - action: none
            entity: input_select.weersituatie
            hold_action:
              action: none
            state_image:
              regen: /local/ui/floorplan/0fl/floorplanregen1.png
            style:
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image
            image: /local/ui/nixx.png
          - type: image
            # entity: input_boolean.woonkamer_kaarsswitch
            entity: input_boolean.woonkamer_kaarsswitch

            state_image:
              "on": /local/ui/ui_img/kaarsen_4.gif
            image: /local/ui/nixx.png
            style:
              mix-blend-mode: screen
              top: 6.5%
              left: 55.4%
              width: 10.6%
            element:
              action: none
              entity: light.keukenstrip
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-keuken-light-strip.png
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.plafondspot_1
            variables:
              - states['light.plafondspot_1'].state
              - states['light.plafondspot_1'].attributes.brightness
              - states['light.plafondspot_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 25%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.plafondspot_1
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-spot-links.png
                "off": /local/ui/nixx.png
              tap_action:
                action: none
              type: image
          # plafondspot_2
          - type: custom:config-template-card
            entities:
              - light.plafondspot_2
              - input_text.lamptoggle
            variables:
              - states['light.plafondspot_2'].state
              - states['light.plafondspot_2'].attributes.brightness
              - states['light.plafondspot_2'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 75%
              top: 25%
              width: 50%
            element:
              action: none
              entity: light.plafondspot_2
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-spot-rechts.png
              tap_action:
                action: none
              type: image
          #lightstrip_dressoir
          - type: custom:config-template-card
            entities:
              - light.lightstrip_dressoir
            variables:
              - states['light.lightstrip_dressoir'].state
              - states['light.lightstrip_dressoir'].attributes.brightness
              - states['light.lightstrip_dressoir'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 180) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.lightstrip_dressoir
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-dressoir-lightstrip.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.keukenstrip
            variables:
              - states['light.keukenstrip'].state
              - states['light.keukenstrip'].attributes.brightness
              - states['light.keukenstrip'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 25%
              left: 25%
              width: 50%
            element:
              action: none
              entity: light.keukenstrip
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-keuken-light-strip.png
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.bank
            variables:
              - states['light.bank'].state
              - states['light.bank'].attributes.brightness
              - states['light.bank'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 75%
              top: 50%
              width: 50%
            element:
              type: conditional
              conditions:
                - entity: light.bank
                  state: "on"
              elements:
                - type: image
                  hold_action:
                    action: none
                  image: /local/ui/floorplan/0fl/light-woonkamer-bank.png
                  tap_action:
                    action: none
          - type: custom:config-template-card
            entities:
              - light.eettafellamp_links
            variables:
              - states['light.eettafellamp_links'].state
              - states['light.eettafellamp_links'].attributes.brightness
              - states['light.eettafellamp_links'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: 0.3
              left: 50%
              top: 25%
              width: 100%
            element:
              action: none
              entity: light.eettafellamp_links
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-eettafel-links.png
                "off": /local/ui/nixx.png
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.eettafellamp_links
            variables:
              - states['light.eettafellamp_links'].state
              - states['light.eettafellamp_links'].attributes.brightness
              - states['light.eettafellamp_links'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.eettafellamp_links
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-eettafel-links.png
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.eettafellamp_rechts
            variables:
              - states['light.eettafellamp_rechts'].state
              - states['light.eettafellamp_rechts'].attributes.brightness
              - states['light.eettafellamp_rechts'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.eettafellamp_rechts
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-eettafel-rechts.png
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.studio_bloom
            variables:
              - states['light.studio_bloom'].state
              - states['light.studio_bloom'].attributes.brightness
              - states['light.studio_bloom'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.studio_bloom
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-plantlamp.png
              tap_action:
                action: none
              type: image


          - type: custom:config-template-card
            entities:
              - light.studio_bloom
            variables:
              - states['light.studio_bloom'].state
              - states['light.studio_bloom'].attributes.brightness
              - states['light.studio_bloom'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              # mix-blend-mode: screen
              opacity: 50%
              top: 50%
              left: 50%
              width: 100%
            element:
              type: conditional
              conditions:
                - entity: light.studio_bloom
                  state: "on"
              elements:
                - action: none
                  hold_action:
                    action: none
                  image: /local/ui/floorplan/0fl/light-woonkamer-plantlamp-solution.png
                  tap_action:
                    action: none
                  type: image
          - type: custom:config-template-card
            entities:
              - light.keukenspots
            variables:
              - states['light.keukenspots'].state
              - states['light.keukenspots'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 180) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.keukenspots
              hold_action:
                action: none
              image: /local/ui/floorplan/0fl/light-woonkamer-keuken2.jpg
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.kastlamp
            variables:
              - states['light.kastlamp'].state
              - states['light.kastlamp'].attributes.brightness
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.kastlamp
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/0fl/light-woonkamer-kast.png
                "off": /local/transparent.png
              tap_action:
                action: none
              type: image
          # - type: custom:config-template-card
          #   entities:
          #     - switch.on_off_plug_in_unit_13
          #   variables:
          #     - states['switch.on_off_plug_in_unit_13'].state
          #   style:
          #     filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
          #     mix-blend-mode: screen
          #     opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
          #     top: 50%
          #     left: 50%
          #     width: 100%
          #   element:
          #     action: none
          #     entity: light.kastlamp
          #     hold_action:
          #       action: none
          #     state_image:
          #       "on": /local/ui/floorplan/0fl/light-woonkamer-kast.png
          #       "off": /local/transparent.png
          #     tap_action:
          #       action: none
          #     type: image
          - action: none
            entity: light.gang_filament_globe
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/0fl/light-woonkamer-gang.jpg
              "off": /local/transparent.png
            style:
              left: 25%
              mix-blend-mode: screen
              top: 50%
              width: 50%
            tap_action:
              action: none
            type: image
          - action: none
            entity: light.filament_wc
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/0fl/light-woonkamer-wc.png
              "off": /local/transparent.png
            style:
              mix-blend-mode: screen
              top: 50%
              left: 25%
              width: 50%
            tap_action:
              action: none
            type: image
          - type: conditional
            conditions:
              - entity: media_player.q90
                state: "on"
            elements:
              - action: none
                hold_action:
                  action: none
                image: /local/ui/floorplan/0fl/woonkamer-q90.png
                style:
                  left: 50%
                  mix-blend-mode: lighten
                  top: 25%
                  width: 100%
                tap_action:
                  action: none
                type: image
          - type: conditional
            conditions:
              - entity: input_boolean.ps5
                state: "on"
            elements:
              - action: none
                hold_action:
                  action: none
                image: /local/ui/floorplan/0fl/light-woonkamer-playstation.png
                style:
                  left: 50%
                  mix-blend-mode: lighten
                  top: 50%
                  width: 100%
                tap_action:
                  action: none
                type: image
          - type: conditional
            conditions:
              - entity: switch.on_off_plug_in_unit_13
                state: "on"
            elements:
              - action: none
                hold_action:
                  action: none
                image: /local/ui/floorplan/0fl/light-woonkamer-kapstok.jpg
                style:
                  left: 50%
                  mix-blend-mode: lighten
                  top: 50%
                  width: 100%
                tap_action:
                  action: none
                type: image
          - action: none
            hold_action:
              action: none
            image: /local/ui/nixx.png
            state_image:
              "on": /local/ui/floorplan/0fl/light-woonkamer-tablet.png
              "off": /local/ui/nixx.png
            entity: light.tablet_s7_screen
            style:
              left: 25%
              mix-blend-mode: lighten
              top: 25%
              width: 50%

            tap_action:
              action: none
            type:
              image

              #########################    animations   #########################

          - action: none
            image: /local/ui/nix100100.png
            entity: climate.woonk
            hold_action:
              action: none
            state_image:
              cool: /local/ui/ui_img/airflow1.gif
            style:
              left: 75%
              mix-blend-mode: lighten
              transform: rotate(160deg)
              top: 25%
              width: 13%
            tap_action:
              action: none
            type: image

          - action: none
            image: /local/ui/nix100100.png
            entity: media_player.audio_nest
            hold_action:
              action: none
            state_image:
              "playing": /local/ui/ui_img/musicnotes_animated.gif
            style:
              left: 55%
              mix-blend-mode: lighten
              # transform: rotate(160deg)
              top: 47%
              width: 15%
            tap_action:
              action: none
            type: image

          - action: none
            image: /local/ui/nix100100.png
            entity: media_player.google_assistent_speaker
            hold_action:
              action: none
            state_image:
              "playing": /local/ui/ui_img/musicnotes_animated.gif

            style:
              left: 27%
              mix-blend-mode: lighten
              # transform: rotate(160deg)
              top: 9%
              width: 15%
            tap_action:
              action: none
            type: image

          # - action: none
          #   image: /local/ui/nix100100.png
          #   entity: input_boolean.smoke
          #   hold_action:
          #     action: none
          #   state_image:
          #     "on": /local/ui/ui_img/smoker_animationloop.gif
          #   style:
          #     left: 97%
          #     top: 44%
          #     width: 15%
          #     mix-blend-mode: lighten
          #   tap_action:
          #     action: none
          #   type: image

          #########################     BUTTONS #########################
          - type: icon
            icon: mdi:menu
            style:
              left: 5%
              top: 5%
              width: 4%
            tap_action:
              action: navigate
              navigation_path: /config/dashboard
              haptic: success
          - type: image
            image: /local/ui/nix100100.png
            style:
              left: 25%
              top: 47%
              width: 4%
              opacity: 0
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  content:
                    type: picture
                    image: /local/ui/floorplan/router/wifi_tbs.png?v=12
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                        }
                  title: Scan QR Code voor WIFI
          - entity: input_boolean.woonkamer_kaarsswitch
            image: /local/ui/nix100100.png
            style:
              left: 55%
              top: 6%
              width: 4%

            tap_action:
              action: toggle
            type: image
          - entity: input_boolean.assistent_speaker
            image: /local/ui/nix100100.png
            style:
              left: 22%
              top: 14%
              width: 5%
              opacity: 1
            tap_action:
              action: toggle
            type: image
          - entity: input_boolean.audio_nest_speaker
            image: /local/ui/nix100100.png
            style:
              left: 48%
              top: 51%
              width: 5%
              opacity: 0
            tap_action:
              action: toggle
            type: image
          - entity: light.tablet_s7_screen
            image: /local/ui/nix100100.png
            style:
              left: 36.5%
              top: 30%
              width: 5%
              opacity: 0
            tap_action:
              action: toggle
            type: image
          - type: image
            entity: media_player.q90
            image: /local/ui/nix100100.png
            style:
              left: 71%
              top: 10%
              width: 10%
              opacity: 0
            tap_action:
              action: toggle
            hold_action:
              action: none

            ############ ledstrips ############

          - type: "custom:button-card"
            show_name: false
            show_icon: false
            color: "rgba(0, 0 , 0 , 1)"
            entity: light.lightstrip_dressoir
            color_type: card
            show_entity_picture: true
            entity_picture: /local/ui/ledniks.png
            tap_action:
              haptic: medium
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.lightstrip_dressoir
                entity_id: input_text.lamptoggle
            hold_action:
              action: call-service
              service: light.toggle
              service_data:
                entity_id: light.lightstrip_dressoir
            style:
              left: 70%
              top: 20%
              width: 22%
              opacity: 0%

          - entity: light.keukenstrip
            image: /local/ui/ledniks.png
            style:
              left: 26%
              top: 22%
              width: 16%
              opacity: 0
            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.keukenstrip
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image

          ######### ICONS #######
          - entity: light.keukenspots
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.keukenspots
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 26%
              top: 22%
              opacity: 0%

          - entity: light.eettafellamp_rechts
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.eettafellamp_rechts
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 50.5%
              top: 20%
              opacity: 0%
          - entity: light.studio_bloom
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.studio_bloom
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 59%
              top: 58%
              opacity: 0%
          - entity: light.eettafellamp_links
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.eettafellamp_links
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 45%
              top: 20%
              opacity: 0%

          - entity: light.plafondspot_1
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.plafondspot_1
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              opacity: 0%
              --mdc-icon-size: 6vw
              left: 60.5%
              top: 26%
          - entity: light.plafondspot_2
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.plafondspot_2
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              opacity: 0%
              --mdc-icon-size: 6vw
              left: 76%
              top: 26%

          - entity: light.bank
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.bank
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              opacity: 0%
              --mdc-icon-size: 6vw
              left: 82%
              top: 52.5%
          # - entity: light.bank
          #   icon: mdi:lamp

          #   hold_action:
          #     action: toggle
          #   type: icon
          #   style:
          #     opacity: 55%
          #     --mdc-icon-size: 6vw
          #     left: 82%
          #     top: 52.5%

          - entity: light.kastlamp
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.kastlamp
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              opacity: 0%
              --mdc-icon-size: 6vw
              left: 49%
              top: 58%

          - entity: light.gang_filament_globe
            double_tap_action:
              action: none
            hold_action:
              action: none
            image: /local/ui/nix100100.png
            style:
              left: 25%
              top: 39%
              width: 5%
              opacity: 0
            tap_action:
              action: toggle
            type: image
          - entity: switch.on_off_plug_in_unit_13
            double_tap_action:
              action: none
            hold_action:
              action: none
            image: /local/ui/nix100100.png
            style:
              left: 28%
              top: 34%
              width: 4%
            tap_action:
              action: toggle
            type: image
          - entity: light.filament_wc
            image: /local/ui/nix100100.png
            style:
              left: 18%
              top: 53%
              opacity: 1
            tap_action:
              action: toggle
            type: image

          # - image: /local/ui/nix100100.png
          #   entity: plant.bananenplant
          #   tap_action:
          #     action: fire-dom-event
          #     browser_mod:
          #       service: browser_mod.popup
          #       data:
          #         content:
          #           type: "custom:apexcharts-card"
          #           card_mod:
          #             style: |
          #               ha-card {
          #                 --ha-card-background: rgba(0, 0, 0, 0.5);
          #               }
          #           graph_span: 5d
          #           cache: true
          #           hours_12: false
          #           # y_axis_precision: 0
          #           all_series_config:
          #             # stroke_width: 3
          #             show:
          #               legend_value: true
          #             type: area
          #           style:
          #             left: 37.5%
          #             top: 86%
          #             width: 23%

          #           span:
          #             end: day
          #           header:
          #             show: true
          #             show_states: true
          #             colorize_states: true
          #           apex_config:
          #             animations:
          #               enabled: true
          #               easing: 'easeinout'
          #               animateGradually:
          #                 enabled: true
          #               dynamicAnimation:
          #                 enabled: true
          #             chart:
          #               height: 220
          #             xaxis:
          #               labels:
          #                 format: dd
          #                 show: true
          #                 showAlways: true
          #             # stroke:
          #             #   width: 8
          #             #   curve: smooth
          #             yaxis:
          #               - show: true
          #                 decimalsInFloat: 0
          #                 forceNiceScale: true
          #               - show: true
          #                 opposite: true
          #                 decimalsInFloat: 0
          #                 forceNiceScale: true
          #             legend:
          #               show: true
          #             dataLabels:
          #               enabled: true
          #           series:
          #             - color: '#4a6025'
          #               entity: sensor.plant_kamerplant_conductivity
          #               # attribute: current_temperature
          #               name: Grond
          #               # unit: °C
          #               type: column
          #               group_by:
          #                 func: max
          #                 duration: 1d
          #               extend_to: end
          #               stroke_width: 10
          #             - color: '#c56f06'
          #               # show: false
          #               entity: sensor.plant_kamerplant_temperature
          #               name: Temp.
          #               stroke_width: 3
          #               group_by:
          #                 func: avg
          #                 duration: 4h
          #               type: line
          #               extend_to: end
          #             - color: '#0b50bf'
          #               entity: sensor.plant_kamerplant_moisture
          #               name: Vocht
          #               group_by:
          #                 func: avg
          #                 duration: 4h

          #           # style:
          #           #   z-index: 5

          # style:
          #   left: 60%
          #   top: 54%
          #   opacity: 0
          # # tap_action:
          # #   action: more-info
          # type:
          #   image
          # - entity: input_select.middagdutje
          #   tap_action:
          #     action: fire-dom-event
          #     browser_mod:
          #       command: popup
          #       hide_header: true
          #       card:
          #         type: entities
          #         entities:
          #           - entity: input_select.middagdutje
          #           - entity: input_boolean.wekker
          #         title: Middagdutje
          #         show_header_toggle: false
          #         state_color: true
          #   image: /local/ui/ledniks.png
          #   style:
          #     left: 73%
          #     top: 55%
          #     width: 14%
          #   type: image

          ######## Voordeurbel ########

          - entity: image.deurbel_event_image
            image: /local/ui/nix100100.png
            style:
              left: 12%
              top: 41%
              width: 5%
              opacity: 0
            tap_action:
              action: more-info
            type: image

          ######## LIGHTS ########
          # - type: "custom:config-template-card"
          #   style:
          #     height: 100%
          #     left: 50%
          #     top: 50%
          #     width: 100%
          #   entities:
          # - type: image
          #   image: /local/ui/blok_nix.png
          #   style:
          #     left: 13.5%
          #     top: 80%
          #     width: 23.5%
          #     height: 37%
          #     background-color: "rgba(0, 0 , 0 , 0.6)"
          #     border-radius: 3%
          # - type: image
          #   image: /local/ui/ui_img/hue_light_scene.png
          #   style:
          #     left: 13.5%
          #     top: 65%
          #     width: 23.5%
          - type: custom:vertical-stack-in-card
            style:
              left: 13.5%
              top: 81%
              width: 23%
            cards:
              - type: picture-elements
                image: /local/ui/blok_nix.png
                elements:
                  - type: custom:button-card
                    entity: scene.woonkamer_keuken_koken
                    show_state: false
                    show_name: false
                    styles:
                      entity_picture:
                        - width: 90%
                      # card:
                      #   - filter: drop-shadow(0 0 0.40rem white)
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      haptic: medium
                      service_data:
                        entity_id: scene.woonkamer_keuken_koken
                    show_entity_picture: true
                    entity_picture: /local/ui/scene_images/koken.png
                    style:
                      left: 18%
                      top: 25%
                      width: 30%
                  - type: custom:button-card
                    entity: scene.beneden_diner_voor_2
                    show_state: false
                    show_name: false
                    styles:
                      entity_picture:
                        - width: 90%
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      haptic: medium
                      service_data:
                        entity_id: scene.beneden_diner_voor_2
                    show_entity_picture: true
                    entity_picture: /local/ui/scene_images/diner.png
                    style:
                      left: 50%
                      top: 25%
                      width: 30%
                  - type: custom:button-card
                    entity: scene.beneden_sfeer
                    show_state: false
                    show_name: false
                    styles:
                      entity_picture:
                        - width: 90%
                    hold_action:
                      action: none
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      haptic: medium
                      service_data:
                        entity_id: scene.beneden_sfeer
                    show_entity_picture: true
                    entity_picture: /local/ui/scene_images/sfeer.png
                    style:
                      left: 82%
                      top: 25%
                      width: 30%

                  - type: custom:button-card
                    entity: input_boolean.woonkamer_kaarsswitch
                    show_state: false
                    show_name: false
                    state:
                      - operator: "!="
                        value: "on"
                        entity_picture: /local/ui/scene_images/kaarsen_uit.png
                        styles:
                          entity_picture:
                            - width: 90%
                    styles:
                      entity_picture:
                        - width: 90%
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      haptic: medium
                      service_data:
                        entity_id: input_boolean.woonkamer_kaarsswitch
                    show_entity_picture: true
                    entity_picture: /local/ui/scene_images/kaarsen.png
                    style:
                      left: 18%
                      top: 75%
                      width: 30%

                  - type: custom:button-card
                    entity: scene.beneden_helder
                    show_state: false
                    show_name: false
                    styles:
                      entity_picture:
                        - width: 90%
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      haptic: medium
                      service_data:
                        entity_id: scene.beneden_helder
                    show_entity_picture: true
                    entity_picture: /local/ui/scene_images/helder_sq.png
                    style:
                      left: 50%
                      top: 75%
                      width: 30%

                  - type: custom:button-card
                    entity: scene.woonkamer_alles_uit
                    show_state: false
                    show_name: false
                    styles:
                      entity_picture:
                        - width: 90%
                    tap_action:
                      action: call-service
                      service: scene.turn_on
                      haptic: medium
                      service_data:
                        entity_id: scene.woonkamer_alles_uit
                    show_entity_picture: true
                    entity_picture: /local/ui/scene_images/alles_uit.png
                    style:
                      left: 82%
                      top: 75%
                      width: 30%

          - type: custom:slider-entity-row
            entity: light.keukenspots
            full_row: true
            hide_when_off: true
            style:
              left: 25%
              top: 3%
              width: 20%
            hide_state: true
          - type: custom:slider-entity-row
            entity: light.eettafel
            full_row: true
            hide_when_off: true
            style:
              left: 50%
              top: 3%
              width: 20%
            hide_state: true
          - type: custom:slider-entity-row
            entity: light.woonkamer
            full_row: true
            hide_when_off: true
            style:
              left: 75%
              top: 3%
              width: 20%
            hide_state: true

            ############### vacuum mode on ################

          - type: conditional
            conditions:
              - entity: input_boolean.vacuum_mode
                state: "on"
            elements:
              - type: custom:config-template-card
                entities:
                  - vacuum.roborock_s6
                style:
                  mix-blend-mode: lighten
                  top: 75%
                  width: 13%
                  left: 86%
                element:
                  tap_action:
                    action: none
                  state_image:
                    idle: /local/ui/cleanUp/roborockstop.gif
                    docked: /local/ui/cleanUp/roborockstop.gif
                    cleaning: /local/ui/cleanUp/roborock_move.gif
                    returning: /local/ui/cleanUp/roborock_move.gif
                  entity: vacuum.roborock_s6
                  type: image

              - type: custom:config-template-card
                entities:
                  - vacuum.roborock_s6
                style:
                  left: 57%
                  top: 56%
                  width: 96%
                element:
                  type: custom:xiaomi-vacuum-map-card
                  platform: roborock
                  append_icons: false
                  append_tiles: false
                  card_mod:
                    style: |
                      ha-card {
                        --map-card-primary-text-color: white!important;
                        --map-card-secondary-color:  rgba(0, 0, 0, 0.3)!important;
                        --map-card-secondary-text-color:  rgba(255, 255, 255, 0.5);!important;
                        --map-card-room-icon-size: 50px!important;
                        --map-card-predefined-rectangle-icon-size: 90px!important;
                      }
                      div.controls-wrapper {
                        padding-left: 69% !important;
                        margin-top: 33% !important;
                      }
                      div.map-controls-wrapper {
                        top: 15%!important;
                        width: 78%;
                      }
                      div.modes-dropdown-menubutton {
                        padding-left: 55%;
                      }
                      div.modes-dropdown-menu {
                        background-color: black !important;
                        align: left !important;
                      }                      
                      div.map-controls {
                        width: 90% !important;
                        align: left !important;
                        padding-top: 15%!important;
                      }
                      div.map-wrapper {
                        margin-bottom: -18%!important;
                        padding-left: 7% !important;
                        width: 70% !important; 
                      }
                      div.tiles-wrapper {
                        width: 90% !important;
                        color: rgba(0, 0, 0, 0)!important;
                        font-size: 9px!important;
                        icon-color: rgba(0, 0, 0, 0.0)!important;
                      }
                  entity: vacuum.roborock_s6
                  icons:
                    - icon: mdi:android
                      tap_action: none
                      conditions:
                        - entity: vacuum.roborock_s6
                          value: 12

                  tiles:
                    - label: hoi
                      entity: vacuum.roborock_s6
                      conditions:
                        - entity: vacuum.roborock_s6
                          value: 12
                  preset_name: default
                  map_source:
                    image: "/local/ui/cleanUp/cameraleeg.png"
                    crop:
                      bottom: 120
                  map_locked: true
                  calibration_source:
                    calibration_points:
                      - vacuum:
                          x: 25500
                          "y": 25500
                        map:
                          x: 204
                          "y": 96
                      - vacuum:
                          x: 26500
                          "y": 25500
                        map:
                          x: 244
                          "y": 96
                      - vacuum:
                          x: 25500
                          "y": 26500
                        map:
                          x: 204
                          "y": 56

                  map_modes:
                    - template: vacuum_clean_zone
                      name: Zone
                    - template: vacuum_goto
                      name: GoTo
                    - template: vacuum_clean_zone_predefined
                      predefined_selections:
                        - zones: [[25644, 25006, 28236, 27390]]
                          icon:
                            name: "mdi:broom" #eettafel
                            x: 27000
                            y: 25700
                        - zones: [[20763, 23665, 24062, 24960]]
                          icon:
                            name: "mdi:broom" #gang
                            x: 22613
                            y: 24759
                        - zones: [[28177, 22627, 3251427517, 27517]]
                          icon:
                            name: "mdi:broom" #woonkamer
                            x: 30000
                            y: 25050
                        - zones: [[20378, 25644, 24324, 27239]]
                          icon:
                            name: mdi:broom #keuken
                            x: 22891
                            y: 26513

                    - template: vacuum_follow_path

          ############################## MEDIA ################################

          # - type: image
          #   image: /local/ui/blok_nix.png
          #   style:
          #     left: 38%
          #     top: 80%
          #     width: 23.5%
          #     height: 37%
          #     background-color: "rgba(0, 0 , 0 , 0.6)"
          #     border-radius: 3%

          # - type: conditional
          #   conditions:
          #     - entity: input_boolean.woonkamer_audio
          #       state_not: "on"
          #   elements:
          #     - type: image
          #       image: /local/ui/ui_img/media_title.png
          #       style:
          #         left: 38%
          #         top: 65%
          #         width: 23.5%
          # - type: conditional
          #   conditions:
          #     - entity: input_boolean.status_q90
          #       state: "on"
          #   elements:
          #     - type: 'custom:vertical-stack-in-card'
          #       style:
          #         left: 38%
          #         top: 90%
          #         width: 22%
          #       cards:
          #         - type: 'custom:mini-media-player'
          #           entity: media_player.chromecast_tv
          #           artwork: material
          #     - type: 'custom:vertical-stack-in-card'
          #       style:
          #         left: 38%
          #         top: 76%
          #         width: 22%
          #       cards:
          #         - type: 'custom:vertical-stack-in-card'
          #           horizontal: true
          #           cards:
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:home'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: HOME
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:chevron-up'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: UP

          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:power-standby'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: POWER

          #         - type: 'custom:vertical-stack-in-card'
          #           horizontal: true
          #           cards:
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:chevron-left'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: LEFT
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:checkbox-blank-circle-outline'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: CENTER
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:chevron-right'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: RIGHT

          #         - type: 'custom:vertical-stack-in-card'
          #           horizontal: true
          #           cards:
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:restore'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: BACK
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:chevron-down'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: DOWN
          #             - type: 'custom:button-card'
          #               color_type: card
          #               color: 'rgba(0, 0, 0, 0.4)'
          #               icon: 'mdi:netflix'
          #               tap_action:
          #                 action: call-service
          #                 service: androidtv.adb_command
          #                 service_data:
          #                   entity_id: media_player.chromecast_with_google_tv
          #                   command: HOME

          - type: conditional
            conditions:
              - entity: media_player.woonkamer_audio
                state_not: "playing"
              - entity: input_select.music_playlist
                state_not: "geen_keuze"
            elements:
              - type: image
                entity: input_select.music_playlist
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  haptic: medium
                  service_data:
                    entity_id: input_select.music_playlist
                    option: geen_keuze
                image: /local/ui/ui_img/loading.gif
                style:
                  left: 38%
                  top: 82%
                  width: 32%
                  mix-blend-mode: lighten
          - type: conditional
            conditions:
              - entity: input_select.music_playlist
                state: "geen_keuze"
              - entity: media_player.woonkamer_audio
                state_not: "playing"
            elements:
              - type: "custom:swipe-card"
                style:
                  left: 38%
                  top: 81%
                  width: 23%
                # theme: slate
                # card_mod:
                #   style: |
                #     ha-card {
                #       background-color: 'rgba(0,0,0,0.0)'!important;
                #     }
                #     div#swiper-scrollbar {
                #       color: 'rgba(0,0,0,0.0)'!important;
                #       background: 'rgba(0,0,0,0.0)'!important;
                #       background-color: "rgba(0, 0 , 0 , 0.6)" !important;
                # }
                parameters:
                  slidesPerView: "auto"
                  # spaceBetween: 100
                  # pagination:
                  #   type: 'progressbar'
                  nested: true
                cards:
                  - type: picture-elements
                    image: /local/ui/blok_nix.png
                    width: 100%
                    elements:
                      - type: custom:button-card ##HOUSE ##
                        show_state: false
                        show_name: false
                        styles:
                          entity_picture:
                            - width: 90%
                        tap_action:
                          action: call-service
                          service: input_select.select_option
                          haptic: medium
                          service_data:
                            entity_id: input_select.music_playlist
                            option: spotify

                        show_entity_picture: true
                        entity_picture: /local/ui/scene_images/spotify_playlists.png
                        style:
                          left: 18%
                          top: 25%
                          width: 30%
                      - type: custom:button-card ##### RADIO ####
                        entity: input_select.radio
                        show_state: false
                        show_name: false
                        state:
                          - operator: "!="
                            value: "all_off"
                            entity: input_select.radio
                            tap_action:
                              action: more-info
                              entity: input_select.radio

                        styles:
                          entity_picture:
                            - width: 90%
                        tap_action:
                          action: more-info
                          haptic: medium
                        show_entity_picture: true

                        entity_picture: /local/ui/scene_images/radio.png

                        style:
                          left: 50%
                          top: 25%
                          width: 30%
                      # - type: custom:button-card ##### DINER ####
                      #   entity: input_select.radio
                      #   show_state: false
                      #   show_name: false
                      #   styles:
                      #     entity_picture:
                      #       - width: 90%
                      #   tap_action:
                      #     action: call-service
                      #     service: spotcast.start
                      #     service_data:
                      #       entity_id: media_player.woonkamer_audio
                      #       start_volume: 20
                      #       search: lounge ibiza 2022
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/lounge.png
                      #   style:
                      #     left: 82%
                      #     top: 25%
                      #     width: 30%

                      # - type: custom:button-card ##### TOM ####
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false
                      #   styles:
                      #     entity_picture:
                      #       - width: 90%

                      #   tap_action:
                      #     action: call-service
                      #     service: spotcast.start
                      #     service_data:
                      #       entity_id: media_player.woonkamer_audio
                      #       start_volume: 20
                      #       search: christmas songs
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/kerstmuziek.png
                      #   style:
                      #     left: 82%
                      #     top: 25%
                      #     width: 30%

                      # - type: custom:button-card ##### DINER ####
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false

                      #   styles:
                      #     entity_picture:
                      #       - width: 90%

                      #   tap_action:
                      #     action: call-service
                      #     service: input_select.select_option
                      #     haptic: medium
                      #     service_data:
                      #       entity_id: input_select.music_playlist
                      #       option: psytrance
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/psytrance.png
                      #   style:
                      #     left: 18%
                      #     top: 75%
                      #     width: 30%

                      # - type: custom:button-card #### MOERSTAAL #####
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false
                      #   styles:
                      #     entity_picture:
                      #       - width: 90%
                      #   tap_action:
                      #     action: call-service
                      #     service: spotcast.start
                      #     service_data:
                      #       entity_id: media_player.woonkamer_audio
                      #       start_volume: 20
                      #       search: nederlandstalig
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/moerstaal.png
                      #   style:
                      #     left: 50%
                      #     top: 75%
                      #     width: 30%

                      # - type: custom:button-card ##HOUSE ##
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false

                      #   styles:
                      #     entity_picture:
                      #       - width: 90%

                      #   tap_action:
                      #     action: call-service
                      #     service: spotcast.start
                      #     service_data:
                      #       entity_id: media_player.woonkamer_audio
                      #       start_volume: 20
                      #       search: rock blues songs
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/blues.png
                      #   style:
                      #     left: 82%
                      #     top: 75%
                      #     width: 30%

                      # - type: custom:button-card ### HARDSTYLE ##
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false

                      #   styles:
                      #     entity_picture:
                      #       - width: 90%

                      #   tap_action:
                      #     action: call-service
                      #     service: input_select.select_option
                      #     haptic: medium
                      #     service_data:
                      #       entity_id: input_select.music_playlist
                      #       option: floorplan
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/floorplan.png

                      #   style:
                      #     left: 50%
                      #     top: 25%
                      #     width: 30%

                      # - type: custom:button-card #### MOERSTAAL #####
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false
                      #   styles:
                      #     entity_picture:
                      #       - width: 90%

                      #   tap_action:
                      #     action: call-service
                      #     service: input_select.select_option
                      #     haptic: medium
                      #     service_data:
                      #       entity_id: input_select.music_playlist
                      #       option: powerstomp
                      #   show_entity_picture: true
                      #   entity_picture: /local/ui/scene_images/powerstomp.png
                      #   style:
                      #     left: 50%
                      #     top: 75%
                      #     width: 30%
                      ##### KLASSIEk #####
                      # - type: custom:button-card
                      #   entity: input_select.music_playlist
                      #   show_state: false
                      #   show_name: false

                      #       # tap_action:
                      #       #   action: more-info
                      #       #   entity: input_select.music_playlist

                      #   styles:
                      #     entity_picture:
                      #       - width: 90%

                      #   tap_action:
                      #     action: call-service
                      #     service: input_select.select_option
                      #     haptic: medium
                      #     service_data:
                      #       entity_id: input_select.music_playlist
                      #       option: "klassiek"
                      #   show_entity_picture: true

                      #   entity_picture: /local/ui/scene_images/klassiek.png
                      #   style:
                      #     left: 82%
                      #     top: 75%
                      #     width: 30%
          - type: conditional
            conditions:
              - entity: input_select.music_playlist
                state: "spotify"
            elements:
              - type: custom:spotify-card
                limit: 24
                hide_connect_devices: true
                always_play_random_song: true
                height: 250
                hide_currently_playing: true
                hide_playback_controls: true
                name: Bas
                hide_top_header: true
                display_style: list
                default_device: Woonkamer Audio
                filter_devices:
                  - .*speaker
                  - .*Wc
                  - .*nest
                  - .*tv
                style:
                  left: 38%
                  top: 82%
                  width: 23%
                # card_mod:
                #   style: |
                #     .grid {
                #       gap: 4% !important;
                #     }
          ######## TV ##################

          # - type: conditional
          #   conditions:
          #     - entity: media_player.woonkamer_audio
          #       state_not: "playing"
          #     - entity: media_player.chromecast_tv
          #       state_not: "idle"
          #   elements:
          #     - type: custom:mini-media-player
          #       entity: media_player.chromecast_tv
          #       name: TV
          #       icon: mdi:television
          #       group: false
          #       volume_stateless: false
          #       artwork: full-over
          #       replace_mute: pclay_pause
          #       sound_mode: full
          #       source: full
          #       info: scroll
          #       style:
          #         left: 38%
          #         # mix-blend-mode: lighten
          #         top: 81%
          #         width: 23%
          #         background-color: "rgba(0, 0 , 0 , 0.6)"
          #         border-radius: 6%
          #       card_mod:
          #         style: |
          #           ha-card {
          #             height: 21vw;
          #             border-radius: 3%;
          #             padding-bottom: -5%;
          # }
          ######## Volume control playlist ##########

          - type: conditional
            conditions:
              - entity: media_player.woonkamer_audio
                state: "playing"
              - entity: input_select.music_playlist
                state: "geen_keuze"
              - entity: input_select.radio
                state: "Selecteer"
            elements:
              - type: custom:mini-media-player
                toggle_power: false
                entity: media_player.woonkamer_audio
                artwork: cover
                source: full
                card_mod:
                  style: |
                    :host {
                      --mini-media-player-overlay-color-stop: 50%;
                      --mini-media-player-info-font-weight: 900;
                      --mini-media-player-overlay-color: rgba(0,0,0,0.5);
                    }
                    ha-card {
                      border-radius: 3% !important;
                      overflow: hidden !important;
                      height: 23vw;
                    }
                style:
                  left: 38%
                  top: 80%
                  width: 23.5%
                  background-color: "rgba(0, 0 , 0 , 0.6)"
                  border-radius: 13px

              # - type: custom:mini-media-player
              #   entity: media_player.audio_nest
              #   background: /local/ui/nix100100.png
              #   artwork: none
              #   hide:
              #     controls: true
              #     progress: true
              #     info: true
              #     icon: true
              #   style:
              #     left: 38%
              #     top: 92%
              #     width: 23%

          ######### Volume control RADIO ##########
          - type: conditional
            conditions:
              - entity: media_player.woonkamer_audio
                state: "playing"
              - entity: input_select.radio
                state_not: "Selecteer"
            elements:
              - type: custom:config-template-card
                entities:
                  - media_player.woonkamer_audio
                element:
                  type: custom:mini-media-player
                  entity: media_player.woonkamer_audio
                  toggle_power: false
                  source: full
                  artwork: full-cover-fit
                  background: "${states['sensor.radio_bg'].state}"
                  # power: true
                  card_mod:
                    style: |
                      ha-card {
                        height:  23vw;
                        background-color: 'rgba(255, 255, 255, 0.0)'!important;
                      }
                style:
                  left: 38%
                  top: 80%
                  width: 23.5%
                  height: 37%
                  # border-radius: 6%

                # style:
                #   left: 38%
                #   top: 80%
                #   width: 23%
              # - type: custom:mini-media-player
              #   source: icon
              #   entity: media_player.google_assistent_speaker
              #   name: Assistent
              #   background: /local/ui/nix100100.png
              #   artwork: none
              #   icon: mdi:google
              #   hide:
              #     controls: true
              #     progress: true
              #     info: true
              #     # icon: true
              #     power: true
              #   style:
              #     left: 38%
              #     top: 65%
              #     width: 24%

              # - type: custom:mini-media-player
              #   entity: media_player.audio_nest
              #   background: /local/ui/nix100100.png
              #   artwork: none
              #   icon: mdi:google
              #   hide:
              #     controls: true
              #     progress: true
              #     info: true
              #     # icon: true
              #     power: true
              #   style:
              #     left: 38%
              #     top: 71%
              #     width: 24%

          # ######### Volume control Local ##########
          - type: conditional
            conditions:
              - entity: input_select.music_playlist
                state_not: "geen_keuze"
              - entity: media_player.woonkamer_audio
                state: "playing"

            elements:
              - type: custom:mini-media-player
                hide:
                  name: true
                  icon: true
                  power: true
                  play_pause: true
                entity: media_player.woonkamer_audio
                source: full
                info: scroll
                artwork: full-cover
                background: /local/ui/ui_img/allgood.png
                #   power: true
                card_mod:
                  style: |
                    :host {
                      --mini-media-player-overlay-color-stop: 90%;
                      --mini-media-player-info-font-weight: 900;
                      --mini-media-player-overlay-color: rgba(0,0,0,0.7);
                    }
                    ha-card {
                      border-radius: 3% !important;
                      overflow: hidden !important;
                      height: 23vw;
                      font-size: 20px !important;
                      # font-weight: 600 !important;
                      font-background-color: green !important; 
                    }

                style:
                  left: 38%
                  top: 80%
                  width: 23.5%

                shortcuts:
                  columns: 4 # Max buttons per row
                  column_height: 50
                  buttons:
                    # Start predefined playlist
                    - icon: mdi:power-standby
                      type: script
                      id: script.playlist_turn_off
                    # Change the source to bathroom
                    - icon: mdi:volume-off
                      type: service
                      id: media_player.volume_mute
                      data:
                        entity_id: media_player.woonkamer_audio
                        is_volume_muted: true
                    # Trigger script
                    - icon: mdi:heart
                      type: service
                      id: input_boolean.toggle
                      data:
                        entity_id: input_boolean.favorite_song

                    # Trigger custom service

                    - icon: mdi:skip-next
                      type: script
                      id: script.playlist_next_track

            ########################    Thermostaat woonkamer   #########################

          - type: conditional
            conditions:
              - entity: input_select.woonkamer_airco_show
                state: "thermostaat"
            elements:
              - type: custom:hui-thermostat-card
                name: _
                entity: climate.woonkamer
                features:
                  - style: icons
                    hvac_modes:
                      - heat
                      - eco
                      - "off"
                    type: climate-hvac-modes
                style:
                  left: 61.5%
                  top: 80%
                  width: 18%

          - type: conditional
            conditions:
              - entity: input_select.woonkamer_airco_show
                state: "airco"
            elements:
              - type: custom:hui-thermostat-card
                name: _
                entity: climate.airco_woonkamer
                features:
                  - type: climate-hvac-modes
                    hvac_modes:
                      - heat
                      - fan_only
                      - cool
                      - "off"
                style:
                  left: 61.5%
                  top: 82.5%
                  width: 18%
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      padding-top: -225px !important;
                      height: 550px;
                    }
                    ha-state-control-climate-temperature {
                      margin-bottom: -20px !important;
                    }
                    .title {
                      display: none;
                    }

          - type: conditional
            conditions:
              - entity: input_select.woonkamer_airco_show
                state: "stats"
            elements:
              ############ APEX ##################

              - type: "custom:apexcharts-card"
                cache: false
                style:
                  left: 61.5%
                  top: 83%
                  width: 22%
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 40px;
                    }
                graph_span: 48h
                update_interval: 5m

                header:
                  show: false
                  standard_format: true
                  floating: true
                  show_states: true
                  colorize_states: true
                apex_config:
                  zoom:
                    enabled: true
                  fill:
                    type: gradient
                    gradient:
                      type: vertical
                      fill: dark
                      shadeIntensity: 0
                      stops:
                        - 0
                        - 35
                      opacityFrom:
                        - 0.1
                        - 0.1
                        - 1
                      opacityTo:
                        - 0.6
                        - 0.6
                        - 0.3
                  chart:
                    height: 260
                    width: 350
                  xaxis:
                    labels:
                      format: HH:mm
                      show: true
                      showAlways: true
                  stroke:
                    width: 2
                    curve: smooth
                  yaxis:
                    - id: first # identification name of the first y-axis
                      decimalsInFloat: 0
                      min: 15
                      max: 35
                      tickAmount: 4
                    - id: third # identification name of the first y-axis
                      decimalsInFloat: 0
                      min: 400
                      max: 1500
                      tickAmount: 4
                      show: false
                    - id: second # identification name of the second y-axis
                      decimalsInFloat: 0
                      min: 30
                      max: 90
                      opposite: true # make it show on the right side

                      tickAmount: 5
                  legend:
                    show: true

                    floating: true
                    fontSize: "12px"
                    position: "top"
                  dataLabels:
                    enabled: true
                series:
                  # - color: '#8c8c8c'
                  #   entity: sensor.keuken_motion_temp
                  #   show:
                  #     legend_value: false

                  #   name: Keuken
                  #   unit: °C
                  #   group_by:
                  #     func: avg
                  #     duration: 30m
                  #   type: area
                  #   extend_to: now
                  # - color: '#368ed1'
                  #   entity: sensor.eettafel_motion_sensor_temperature
                  #   name: Eettafel
                  #   show:
                  #     legend_value: false
                  #   unit: °C
                  #   group_by:
                  #     func: avg
                  #     duration: 30m
                  #   extend_to: now
                  #   type: area

                  # group_by:
                  #   func: avg
                  #   duration: 8h

                  - color: "#ff9000"
                    entity: sensor.woonkamer_temperature
                    yaxis_id: first
                    show:
                      legend_value: true
                    unit: °C
                    name: Temp
                    group_by:
                      func: avg
                      duration: 1h
                    extend_to: end
                    float_precision: 0
                    type: area
                  - entity: sensor.mh_z19_co2_value_woon
                    type: area
                    name: C02
                    color: red
                    group_by:
                      func: avg
                      duration: 1h
                    extend_to: end
                  - color: var(--primary-color)

                    entity: sensor.woonkamer_humidity
                    yaxis_id: second
                    unit: "%"
                    show:
                      legend_value: true
                    name: Luchtvocht
                    extend_to: now
                    type: area
          #########################    Stofzuiger   #########################

          - type: conditional
            conditions:
              - entity: input_boolean.vacuum_mode
                state: "off"
            elements:
              - type: custom:config-template-card
                entities:
                  - vacuum.roborock_s6
                style:
                  mix-blend-mode: lighten
                  top: 75%
                  width: 13%
                  left: 86%
                element:
                  tap_action:
                    action: call-service
                    service: input_boolean.toggle
                    service_data:
                      entity_id: input_boolean.vacuum_mode
                  state_image:
                    idle: /local/ui/cleanUp/roborockstop.gif
                    docked: /local/ui/cleanUp/roborockstop.gif
                    cleaning: /local/ui/cleanUp/roborock_move.gif
                    returning: /local/ui/cleanUp/roborock_move.gif
                  entity: vacuum.roborock_s6
                  type: image
              - type: "custom:vacuum-card"
                style:
                  left: 87%
                  top: 88%
                  width: 22%
                entity: vacuum.roborock_s6
                image: /local/ui/cleanUp/roborock2.png
                show_name: false
                show_toolbar: true
                show_status: false
                compact_view: true
                shortcuts:
                  - name: Mode
                    service: input_boolean.toggle
                    service_data:
                      entity_id: input_boolean.vacuum_mode
                    icon: mdi:target
                card_mod:
                  style: |
                    ha-card .preview {
                      background-color: var(--secondary-background-color);
                    }
                    ha-card .toolbar {
                      background-color: var(--secondary-background-color);
                    }

          - type: "custom:button-card"
            show_name: false
            entity: input_boolean.vacuum_mode
            state:
              - operator: ==
                value: "on"
                color: var(--primary-color)
              - operator: ==
                value: "off"
                color: var(--primary-text-color)
            color_type: icon
            haptic: medium
            icon: mdi:target
            tap_action:
              action: toggle
            style:
              left: 95%
              top: 64.5%
              width: 5%

          - type: "custom:button-card"
            show_name: false
            entity: input_select.woonkamer_airco_show
            icon: mdi:snowflake
            color: var(--secondary-color)
            state:
              - value: "airco"
                color: var(--primary-color)

            tap_action:
              action: call-service
              service: input_select.select_option
              haptic: medium
              service_data:
                entity_id: input_select.woonkamer_airco_show
                option: airco
            style:
              left: 63%
              top: 64.5%
              width: 5%
          - type: "custom:button-card"
            show_name: false
            entity: input_select.woonkamer_airco_show
            color: var(--secondary-color)
            state:
              - operator: ==
                value: thermostaat
                color: var(--primary-color)
            color_type: icon
            haptic: medium
            icon: mdi:thermometer
            tap_action:
              action: call-service
              haptic: medium
              service: input_select.select_option
              service_data:
                entity_id: input_select.woonkamer_airco_show
                option: thermostaat

            style:
              left: 67%
              top: 64.5%
              width: 5%
              # padding-left: -25px
              # padding-right: -25px
          - type: "custom:button-card"
            show_name: false
            entity: input_select.woonkamer_airco_show
            color: var(--secondary-color)
            state:
              - operator: ==
                value: stats
                color: var(--primary-color)
            color_type: icon
            haptic: medium
            icon: mdi:chart-bell-curve-cumulative
            tap_action:
              action: call-service
              haptic: medium
              service: input_select.select_option
              service_data:
                entity_id: input_select.woonkamer_airco_show
                option: stats

            style:
              left: 71%
              top: 64.5%
              width: 5%

              ########################      CAMERA  ICONS  #########################

          # - type: image
          #   entity: input_boolean.voordeur_cam_switch
          #   tap_action:
          #     action: call-service
          #     service: input_boolean.toggle
          #     service_data:
          #       entity_id: input_boolean.voordeur_cam_switch

          #   image: /local/ui/nix100100.png
          #   style:
          #     left: 8.5%
          #     top: 45%
          #     width: 5%

          - image: /local/ui/nix100100.png
            style:
              left: 8.5%
              top: 45%
              width: 5%
            type: image
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup

                data:
                  size: wide
                  title: Camera
                  content:
                    type: custom:vertical-stack-in-card
                    style:
                      left: 45%
                      top: 45%
                      width: 50%
                    cards:
                      - type: custom:vertical-stack-in-card
                        style:
                          width: 50%
                          top: 40%
                          left: 50%
                        cards:
                          - type: custom:vertical-stack-in-card
                            cards:
                              - type: custom:webrtc-camera
                                url: !secret webrtc_cam_voordeur
                                muted: true
                              - type: custom:vertical-stack-in-card
                                horizontal: true
                                cards:
                                  - type: "custom:button-card"
                                    color_type: card
                                    color: "rgba(0, 0, 0, 0.7)"
                                    icon: mdi:arrow-left-drop-circle-outline
                                    tap_action:
                                      action: call-service
                                      service: button.press
                                      service_data:
                                        entity_id: button.voordeur_cam_move_left
                                    entity_id: camera.voordeur_cam_hd_stream
                                  - type: "custom:button-card"
                                    color_type: card
                                    color: "rgba(0, 0, 0, 0.7)"
                                    icon: mdi:arrow-up-drop-circle-outline
                                    tap_action:
                                      action: call-service
                                      service: button.press
                                      service_data:
                                        entity_id: button.voordeur_cam_move_up
                                    entity_id: camera.voordeur_cam_hd_stream
                                  - type: "custom:button-card"
                                    color_type: card
                                    color: "rgba(0, 0, 0, 0.7)"
                                    icon: mdi:arrow-down-drop-circle-outline
                                    tap_action:
                                      action: call-service
                                      service: button.press
                                      service_data:
                                        entity_id: button.voordeur_cam_move_down
                                    entity_id: camera.voordeur_cam_hd_stream
                                  - type: "custom:button-card"
                                    color_type: card
                                    color: "rgba(0, 0, 0, 0.7)"
                                    icon: mdi:arrow-right-drop-circle-outline
                                    tap_action:
                                      action: call-service
                                      service: button.press
                                      service_data:
                                        entity_id: button.voordeur_cam_move_right
                                    entity_id: camera.voordeur_cam_hd_stream
                                  - type: "custom:button-card"
                                    color_type: card
                                    color: "rgba(0, 0, 0, 0.7)"
                                    icon: mdi:home
                                    tap_action:
                                      action: call-service
                                      service: script.voordeurcammove_1
                                    entity_id: camera.voordeur_cam_hd_stream
                                  - type: "custom:button-card"
                                    color_type: card
                                    color: "rgba(0, 0, 0, 0.7)"
                                    icon: mdi:car
                                    tap_action:
                                      action: call-service
                                      service: script.voordeurcammove_2
                                    entity_id: camera.voordeur_cam_hd_stream

          ############################## Trap ################################

          - type: "custom:button-card"
            aspect_ratio: 2/1
            show_name: false
            color: "rgba(255, 0 , 0 , 0)"
            color_type: card
            tap_action:
              action: navigate
              navigation_path: /lovelace/2
              haptic: success
            style:
              left: 37%
              top: 52%
              width: 18%

            styles:
              card:
                - --mdc-ripple-press-opacity: 0

          ############################## naar tuin ################################

          - type: "custom:button-card"
            aspect_ratio: 1/1.6
            show_name: false
            color: "rgba(0, 0 , 0 , 0)"
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            tap_action:
              action: navigate
              navigation_path: /lovelace/1
              haptic: success
            style:
              left: 84%
              top: 28%
              width: 11%
              opacity: 1

          - entity: weather.buienradar
            type: custom:weather-card
            forecast: false
            details: false
            style:
              top: 5.5%
              width: 8%
              left: 96%
              height: 10%
              font-size: 0.4vw
            card_mod:
              style: |
                ha-card {
                  box-shadow: none !important;
                  padding-top: -2%;
                }

            ############## POPUPS ################
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state_not: none
            elements:
              - type: image
                entity: input_text.lamptoggle
                tap_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle

                image: /local/ui/nix100100.png
                style:
                  height: 100%
                  left: 50%
                  top: 50%
                  width: 100%


          - type: conditional #slaapkamer_lamp
            conditions:
              - entity: input_text.lamptoggle
                state: light.bank
            elements:

              - type: custom:more-info-card
                entity: light.bank
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 65%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.studio_bloom
            elements:
              - type: custom:more-info-card
                entity: light.studio_bloom
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 45%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.eettafellamp_links
              - entity: light.eettafellamp_links
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.eettafellamp_links
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 45%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.eettafellamp_rechts
              - entity: light.eettafellamp_rechts
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.eettafellamp_rechts
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 50%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.plafondspot_1
              - entity: light.plafondspot_1
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.plafondspot_1
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 65%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.plafondspot_2
              - entity: light.plafondspot_2
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.plafondspot_2
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 70%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.lightstrip_dressoir

            elements:
              - type: custom:more-info-card
                entity: light.lightstrip_dressoir
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 65%
                  top: 35%
                  width: 18%

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.keukenstrip

            elements:
              - type: custom:more-info-card
                entity: light.keukenstrip
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 25%
                  top: 35%
                  width: 18%


          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.keukenspots
            elements:
              - type: custom:more-info-card
                entity: light.keukenspots
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 25%
                  top: 35%
                  width: 18%


          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.kastlamp
              - entity: light.kastlamp
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.kastlamp
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 36%
                  top: 35%
                  width: 18%


          - type: conditional
            conditions:
              - entity: input_boolean.assistent_speaker
                state: "on"
            elements:
              - type: image
                entity: input_boolean.assistent_speaker
                tap_action:
                  action: toggle
                image: /local/ui/transparant_background.png
                style:
                  height: 100%
                  left: 50%
                  top: 50%
                  width: 100%
                  opacity: 0%
              - type: custom:mushroom-media-player-card
                entity: media_player.google_assistent_speaker
                volume_controls:
                  - volume_set
                  - volume_buttons
                use_media_info: true
                tap_action:
                  action: toggle
                show_volume_level: true
                name: Assistent Speaker
                style:
                  left: 25%
                  top: 28%
                  width: 30%
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: black;
                      box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                      border-radius: 25px !important;
                    }
          - type: conditional
            conditions:
              - entity: input_boolean.audio_nest_speaker
                state: "on"
            elements:
              - type: image
                entity: input_boolean.audio_nest_speaker
                tap_action:
                  action: toggle
                image: /local/ui/transparant_background.png
                style:
                  height: 100%
                  left: 50%
                  top: 50%
                  width: 100%
                  opacity: 0%

              - type: custom:mushroom-media-player-card
                entity: media_player.audio_nest
                tap_action:
                  action: toggle
                volume_controls:
                  - volume_set
                  - volume_buttons
                use_media_info: true
                show_volume_level: true
                name: Nest Speaker

                style:
                  left: 49%
                  top: 45%
                  width: 30%
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: black;
                      box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                      border-radius: 25px !important;
                    }



                    }
          - type: conditional
            conditions:
              - entity: input_boolean.qr_toggle
                state: "on"
            elements:
              - type: image
                image: /local/ui/floorplan/router/wifi_tbs.png
                style:
                  left: 50%
                  top: 50%
                  width: 50%
                tap_action:
                  action: call-service
                  service: input_boolean.turn_off
                  target:
                    entity_id: input_boolean.qr_toggle
  #############################################################################################################################################
  #                                                                                                                                           #
  #                                                               TUIN                                                                        #
  #                                                                                                                                           #
  #############################################################################################################################################
  - title: Tuin
    icon: "mdi:flower"
    panel: true
    theme: "Custom Dark"
    cards:
      - type: picture-elements
        image: /local/ui/transparant_background.png
        style:
          left: 50%
          top: 50%
          width: 100%
        elements:
          #########################    DAY BASE FLOORPLAN OVERLAY    #########################
          # - type: 'custom:auto-reload-card'
          #   delay_in_minute: 5
          - action: none
            entity: input_select.weersituatie
            hold_action:
              action: none
            state_image:
              regen: /local/ui/floorplan/tuin/tuinplan_regen.jpg
              bewolkt: /local/ui/floorplan/tuin/tuinplan_bewolkt.jpg?v=302
              einde_dag: /local/ui/floorplan/tuin/tuinplan_1830.jpg
              begin_dag: /local/ui/floorplan/tuin/tuinplan_ochtend.jpg
              nacht: /local/ui/floorplan/tuin/tuinplan_night.jpg
              natte_nacht: /local/ui/floorplan/tuin/tuinplan_night.jpg
              middag: /local/ui/floorplan/tuin/tuinplan_day.jpg
            style:
              height: 100%
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image

          - action: none
            entity: input_text.zonnescherm
            hold_action:
              action: none
            state_image:
              open: /local/ui/floorplan/tuin/tuinplan_zonnescherm.jpg
              midden: /local/ui/floorplan/tuin/tuin_zonnescherm50.jpg
              dicht: /local/ui/transparant_background.png
            style:
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image

            #########################    Inside overlays for weather    #########################
          - type: conditional
            conditions:
              - entity: input_boolean.smoke
                state: "off"
            elements:
              - action: none
                entity: input_select.weersituatie
                hold_action:
                  action: none
                state_image:
                  "regen": /local/ui/floorplan/weather/raincomp-half.gif
                  "natte_nacht": /local/ui/floorplan/weather/raincomp-half.gif
                  "begin_dag": /local/ui/floorplan/weather/dust_overlay_perfectloop_comp.gif
                  "middag": /local/ui/floorplan/weather/dust_overlay_perfectloop_comp.gif
                  "einde_dag": /local/ui/floorplan/weather/dust_overlay_perfectloop_comp.gif
                  "bewolkt": /local/ui/floorplan/weather/dust_overlay_perfectloop_comp.gif
                  "nacht": /local/ui/floorplan/weather/dust_overlay_perfectloop_comp.gif
                style:
                  left: 50%
                  mix-blend-mode: lighten
                  top: 25%
                  width: 110%
                tap_action:
                  action: none
                type: image

          - type: custom:slider-entity-row
            entity: light.tuinkleur
            full_row: true
            hide_when_off: true
            style:
              left: 30%
              top: 3%
              width: 25%
            hide_state: true

          ############### Blended overlay images ######################

          - type: custom:config-template-card
            entities:
              - light.hue_discover_outdoor_wall_1
            variables:
              - states['light.hue_discover_outdoor_wall_1'].state
              - states['light.hue_discover_outdoor_wall_1'].attributes.brightness
              - states['light.hue_discover_outdoor_wall_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/light-tuin-floodlight.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.tuinsokkel_links
            variables:
              - states['light.tuinsokkel_links'].state
              - states['light.tuinsokkel_links'].attributes.brightness
              - states['light.tuinsokkel_links'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: soft-light

              top: 50%
              left: 50%
              width: 100%
            element:
              type: conditional
              conditions:
                - entity: light.tuinsokkel_links
                  state: "on"
              elements:
                - action: none
                  hold_action:
                    action: none
                  image: /local/ui/floorplan/tuin/sokkel_solution_links.png
                  tap_action:
                    action: none
                  type: image
          - type: custom:config-template-card
            entities:
              - light.tuinsokkel_links
            variables:
              - states['light.tuinsokkel_links'].state
              - states['light.tuinsokkel_links'].attributes.brightness
              - states['light.tuinsokkel_links'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/light-tuin-sokkel-links.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.tuinsokkel_links
            variables:
              - states['light.tuinsokkel_links'].state
              - states['light.tuinsokkel_links'].attributes.brightness
              - states['light.tuinsokkel_links'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: soft-light

              top: 50%
              left: 50%
              width: 100%
            element:
              type: conditional
              conditions:
                - entity: light.tuinsokkel_links
                  state: "on"
              elements:
                - action: none
                  hold_action:
                    action: none
                  image: /local/ui/floorplan/tuin/sokkel_solution_links.png
                  tap_action:
                    action: none
                  type: image
          - type: custom:config-template-card
            entities:
              - light.tuinsokkel_rechts
            variables:
              - states['light.tuinsokkel_rechts'].state
              - states['light.tuinsokkel_rechts'].attributes.brightness
              - states['light.tuinsokkel_rechts'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              # mix-blend-mode: soft-light
              opacity: 0.5
              top: 50%
              left: 50%
              width: 100%
            element:
              type: conditional
              conditions:
                - entity: light.tuinsokkel_rechts
                  state: "on"
              elements:
                - action: none
                  hold_action:
                    action: none
                  image: /local/ui/floorplan/tuin/sokkel_solution_rechts.png
                  tap_action:
                    action: none
                  type: image
          - type: custom:config-template-card
            entities:
              - light.tuinsokkel_rechts
            variables:
              - states['light.tuinsokkel_rechts'].state
              - states['light.tuinsokkel_rechts'].attributes.brightness
              - states['light.tuinsokkel_rechts'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.tuinsokkel_rechts
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/light-tuin-sokkel-rechts.jpg
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.wandlamp_schuur
            variables:
              - states['light.wandlamp_schuur'].state
              - states['light.wandlamp_schuur'].attributes.brightness
              - states['light.wandlamp_schuur'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.wandlamp_schuur
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/light-tuin-schuurlamp.jpg
              tap_action:
                action: none
              type: image
          # - type: custom:config-template-card
          #   entities:
          #     - light.hue_discover_outdoor_wall_1
          #   variables:
          #     - states['light.hue_discover_outdoor_wall_1'].state
          #     - states['light.hue_discover_outdoor_wall_1'].attributes.brightness
          #     - states['light.hue_discover_outdoor_wall_1'].attributes.hs_color
          #   style:
          #     filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
          #     mix-blend-mode: screen
          #     opacity: '${vars[0] === ''on'' ? (vars[1] / 255) : ''0''}'
          #     top: 50%
          #     left: 50%
          #     width: 100%
          #   element:
          #     action: none
          #     entity: light.hue_discover_outdoor_wall_1
          #     hold_action:
          #       action: none
          #     image: /local/ui/floorplan/tuin/light-tuin-schuurlamp.jpg
          #     tap_action:
          #       action: none
          #     type: image
          - type: custom:config-template-card
            entities:
              - light.ledstrip_tuin
            variables:
              - states['light.ledstrip_tuin'].state
              - states['light.ledstrip_tuin'].attributes.brightness
              - states['light.ledstrip_tuin'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.ledstrip_tuin
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/light-tuin-ledstrip.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.beneden
            variables:
              - states['light.beneden'].state
              - states['light.beneden'].attributes.brightness
              - states['light.beneden'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.beneden
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/tuinplan_beneden.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.hue_wandlamp
            variables:
              - states['light.hue_wandlamp'].state
              - states['light.hue_wandlamp'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_wandlamp
              hold_action:
                action: none
              image: /local/ui/floorplan/tuin/light-tuin-wandlamp.jpg
              tap_action:
                action: none
              type: image
          ########### ANIMATIONS  #################
          # - action: none
          #   entity: switch.water_control
          #   hold_action:
          #     action: none
          #   state_image:
          #     "on": /local/ui/ui_img/splash.gif
          #     "off": /local/ui/nix100100.png
          #   style:
          #     left: 50%
          #     mix-blend-mode: lighten
          #     top: 50%
          #     width: 100%
          #   tap_action:
          #     action: none
          #   type: image
          - action: none
            entity: input_boolean.smoke
            hold_action:
              action: none
            state_image:
              "on": /local/ui/ui_img/smoker_animationloop.gif
              "off": /local/ui/nix100100.png
            style:
              left: 30%
              mix-blend-mode: screen
              top: 26%
              width: 50%
            tap_action:
              action: none
            type:
              image

              ########################## Light Buttons ################################
          - entity: light.wandlamp_schuur
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.wandlamp_schuur
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 71%
              top: 30%
              opacity: 0%
          - entity: light.hue_discover_outdoor_wall_1
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.hue_discover_outdoor_wall_1
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 15%
              top: 55%
              opacity: 0%
          - entity: light.ledstrip_tuin
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.ledstrip_tuin
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 85%
              top: 49%
              width: 7%
              height: 16%
              opacity: 0%
          - entity: light.tuinsokkel_links
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.tuinsokkel_links
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 40%
              top: 53%
              opacity: 0%
          - entity: light.tuinsokkel_rechts
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.tuinsokkel_rechts
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 74%
              top: 53%
              opacity: 0%
          - entity: light.hue_wandlamp
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.hue_wandlamp
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 20%
              top: 11%
              opacity: 0%

          - entity: input_select.tuin_ui_bewaterselectie
            tap_action:
              action: call-service
              service: input_select.select_option
              service_data:
                entity_id: input_select.tuin_ui_bewaterselectie
                option: olijf
            image: /local/ui/nix100100.png
            style:
              left: 49%
              opacity: 0%
              top: 50%
            type: image

          - entity: input_select.tuin_ui_bewaterselectie
            tap_action:
              action: call-service
              service: input_select.select_option
              service_data:
                entity_id: input_select.tuin_ui_bewaterselectie
                option: olijf
            image: /local/ui/nix100100.png
            style:
              left: 65%
              top: 50%

            type: image
          - entity: input_select.tuin_ui_bewaterselectie
            tap_action:
              action: call-service
              service: input_select.select_option
              service_data:
                entity_id: input_select.tuin_ui_bewaterselectie
                option: kruidenwand
            image: /local/ui/nix100100.png
            style:
              left: 45%
              opacity: 0%
              top: 15%
            type: image

          ############################ Blokken ######################################

          - type: custom:button-card
            entity: input_select.tuin_scene_selector
            show_state: false
            show_name: false
            styles:
              entity_picture:
                - width: 100%
              # card:
              #   - filter: drop-shadow(0 0 0.75rem white)
            tap_action:
              action: call-service
              service: input_select.select_option
              haptic: medium
              service_data:
                entity_id: input_select.tuin_scene_selector
                option: sfeer
            show_entity_picture: true
            entity_picture: /local/ui/scene_images/tuin_sfeer.png
            style:
              left: 6%
              top: 74%
              width: 6.5%

          - type: custom:button-card
            entity: input_select.tuin_scene_selector
            show_state: false
            show_name: false

            styles:
              entity_picture:
                - width: 100%

            tap_action:
              action: call-service
              service: scene.turn_on
              haptic: medium
              service_data:
                entity_id: scene.tuin_ijskoud
            show_entity_picture: true
            entity_picture: /local/ui/scene_images/ijskoud.png
            style:
              left: 13.5%
              top: 74%
              width: 6.5%

          - type: custom:button-card
            entity: input_select.tuin_scene_selector
            show_state: false
            show_name: false

            styles:
              entity_picture:
                - width: 100%

            tap_action:
              action: call-service
              service: input_select.select_option
              haptic: medium
              service_data:
                entity_id: input_select.tuin_scene_selector
                option: alarm
            show_entity_picture: true
            entity_picture: /local/ui/scene_images/alarm.png
            style:
              left: 21%
              top: 74%
              width: 6.5%

          - type: custom:button-card
            entity: input_select.tuin_scene_selector
            show_state: false
            show_name: false

            styles:
              entity_picture:
                - width: 100%

            tap_action:
              action: call-service
              service: scene.turn_on
              haptic: medium
              service_data:
                entity_id: scene.tuin_honolulu
            show_entity_picture: true
            entity_picture: /local/ui/scene_images/ademen.png
            style:
              left: 6%
              top: 87%
              width: 6.5%

          - type: custom:button-card
            entity: input_select.tuin_scene_selector
            show_state: false
            show_name: false
            styles:
              entity_picture:
                - width: 100%
            tap_action:
              action: call-service
              service: scene.turn_on
              haptic: medium
              service_data:
                entity_id: scene.tuin_helder
            show_entity_picture: true
            entity_picture: /local/ui/scene_images/helder_sq.png
            style:
              left: 13.5%
              top: 87%
              width: 6.5%

          - type: custom:button-card
            entity: input_select.tuin_scene_selector
            show_state: false
            show_name: false

            styles:
              entity_picture:
                - width: 100%

            tap_action:
              action: call-service
              service: scene.turn_on
              haptic: medium
              service_data:
                entity_id: scene.tuin_alles_uit

            show_entity_picture: true
            entity_picture: /local/ui/scene_images/alles_uit.png
            style:
              left: 21%
              top: 87%
              width: 6.5%

          - entity: input_boolean.smoke
            image: /local/ui/nix100100.png
            style:
              left: 28%
              top: 55%
              width: 5%
              opacity: 0%
            tap_action:
              action: toggle
            type: image

          ############ BBQ ###############
          - type: conditional
            conditions:
              - entity: input_boolean.bbqtest
                state: "on"
              - entity: input_select.bbq_view
                state_not: "off"
            elements:
              - type: conditional
                conditions:
                  - entity: input_select.bbq_view
                    state_not: "graph"
                elements:
                  - type: conditional
                    conditions:
                      - entity: sensor.ibbq_temperature_probe_1
                        state: "unavailable"
                    elements:
                      - type: "custom:button-card"
                        size: 40%
                        name: Pit temp alert
                        color_type: card
                        icon: mdi:grill
                        show_label: true
                        layout: icon_name_state2nd
                        show_state: false
                        show_name: true
                        tap_action:
                          haptic: medium
                          action: none
                        entity: sensor.ibbq_temperature_probe_1
                        style:
                          left: 33%
                          top: 73%
                          width: 10%
                        label: niet verbonden
                        styles:
                          label:
                            - font-size: 0.8vw
                            - allign: left
                            - justify-self: start
                            - color: grey
                          icon:
                            - font-size: 1vw
                            - color: grey
                          name:
                            - font-size: 0.8vw
                            - color: grey
                            - allign: left
                            - justify-self: start
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                            - height: 70px

                  - type: conditional
                    conditions:
                      - entity: sensor.ibbq_temperature_probe_1
                        state_not: "unavailable"
                        # state_not: "0.0"
                    elements:
                      - type: "custom:button-card"
                        triggers_update:
                          # - input_boolean.flameboss_temp_setter
                          - input_boolean.bbq_pit_temp_alert_set
                          - sensor.ibbq_temperature_probe_1
                          - input_number.bbq_test1
                          - input_select.bbq_view
                          - input_select.flameboss_thermo
                        size: 40%
                        name: Pittemp. Alert
                        color_type: card
                        icon: mdi:grill
                        show_label: true
                        layout: icon_name_state2nd
                        show_state: false
                        show_name: true
                        tap_action:
                          haptic: medium
                          action: call-service
                          service: input_select.select_option
                          service_data:
                            entity_id: input_select.flameboss_thermo
                            option: pit
                        entity: input_select.flameboss_thermo
                        style:
                          left: 33%
                          top: 73%
                          width: 10%
                        state:
                          - value: "pit"
                            styles:
                              card:
                                - -webkit-box-shadow: 0px 0px 9px 3px rgba(255, 255, 255, 0.4)
                                - box-shadow: 0px 0px 9px 3px  rgba(255, 255, 255, 0.4)
                              name:
                                - color: "var(--primary-text-color)"
                          - value: "pit"
                            operator: "!="
                            icon: mdi:grill

                        label: >
                          [[[
                            if (states['input_boolean.bbq_pit_temp_alert_set'].state == 'on')
                              return  states['input_number.bbq_pit_temp_alert'].state + '°c ';
                            return "not set";
                          ]]]
                        styles:
                          label:
                            - font-size: 1.1vw
                            - allign: left
                            - justify-self: start
                            - color: >
                                [[[
                                    if (states['input_boolean.bbq_pit_temp_alert_set'].state == 'on')
                                      return "var(--primary-text-color)";
                                    return "grey";
                                  ]]]
                          icon:
                            - font-size: 1vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_pit_temp_alert_set'].state == 'on')
                                    return "var(--primary-color)";
                                  return "grey";
                                ]]]
                          name:
                            - font-size: 0.8vw
                            - color: grey
                            - allign: left
                            - justify-self: start
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                            - height: 70px
                  - type: conditional
                    conditions:
                      - entity: input_select.flameboss_thermo
                        state: "pit"
                      - entity: sensor.ibbq_temperature_probe_1
                        state_not: unavailable
                      - entity: input_boolean.bbq_pit_temp_alert_set
                        state: "off"
                    elements:
                      - type: custom:my-slider
                        thumbColor: "rgba(255, 255, 255, 0.8)"
                        intermediate: true
                        toggle_scroll: true
                        radius: 5px
                        maxSet: 300
                        maxBar: 300
                        minSet: 15
                        height: 35px
                        width: 100%
                        entity: input_number.bbq_pit_temp_alert
                        step: "1"
                        style:
                          left: 35.5%
                          top: 82%
                          width: 14%
                        mainSliderColor: "var(--primary-color)"
                        secondarySliderColor: black
                        thumbWidth: 30px
                        card_mod:
                          style: |
                            ha-card {
                              box-shadow: 5px 8px 5px 5px rgba(10, 10, 10, 0.3) !important;
                              border-radius: 25px !important;
                            }
                  - type: conditional
                    conditions:
                      - entity: input_boolean.bbq_pit_temp_alert_set
                        state: "off"
                      - entity: sensor.ibbq_temperature_probe_1
                        state_not: unavailable
                      - entity: input_select.flameboss_thermo
                        state: "pit"
                    elements:
                      - type: "custom:button-card"
                        entity: input_boolean.bbq_pit_temp_alert_set
                        size: 40%
                        show_state: false
                        name: set
                        show_label: true
                        show_icon: false

                        show_name: true
                        style:
                          left: 46%
                          top: 81.5%
                          width: 4.5%

                        tap_action:
                          haptic: medium
                          action: toggle
                        color: grey
                        icon: mdi:check
                        label: >
                          [[[
                            return states['input_number.bbq_pit_temp_alert'].state + '°c ' ;
                          ]]]
                        styles:
                          card:
                            - background-color: rgba(0, 0, 0, 0.2)
                          label:
                            - font-size: 1vw

                  - type: conditional
                    conditions:
                      - entity: sensor.ibbq_temperature_probe_2
                        state: "unavailable"
                    elements:
                      - type: "custom:button-card"
                        label: niet verbonden
                        size: 40%
                        name: Kern temp alert
                        show_label: true
                        color_type: card
                        layout: icon_name_state2nd
                        show_state: false
                        icon: mdi:food-steak

                        show_name: true
                        tap_action:
                          haptic: medium
                          action: none

                        entity: input_select.flameboss_thermo
                        style:
                          left: 43.5%
                          top: 73%
                          width: 10%

                        styles:
                          label:
                            - font-size: 0.8vw
                            - allign: left
                            - justify-self: start
                            - color: grey
                          icon:
                            - font-size: 1vw
                            - color: grey
                          name:
                            - font-size: 0.8vw
                            - color: grey
                            - allign: left
                            - justify-self: start
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                            - height: 70px

                  - type: conditional
                    conditions:
                      - entity: sensor.ibbq_temperature_probe_2
                        state_not: "unavailable"

                    elements:
                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_meat_temp_alert_set
                          - input_number.bbq_meat_temp_alert
                          - input_select.bbq_view
                          - sensor.sensor.ibbq_temperature_probe_2
                          - input_select.flameboss_thermo
                          - input_number.bbq_test2

                        size: 40%
                        name: Kerntmp. Alert
                        show_label: true
                        color_type: card
                        layout: icon_name_state2nd
                        show_state: false
                        icon: mdi:food-steak

                        # icon: mdi:alarm
                        show_name: true
                        tap_action:
                          haptic: medium
                          action: call-service
                          service: input_select.select_option
                          service_data:
                            entity_id: input_select.flameboss_thermo
                            option: kern
                        label: >
                          [[[
                            if (states['input_boolean.bbq_meat_temp_alert_set'].state == 'on')
                              return  states['input_number.bbq_meat_temp_alert'].state + '°c ';
                            return "not set";
                          ]]]
                        entity: input_select.flameboss_thermo
                        style:
                          left: 43.5%
                          top: 73%
                          width: 10%
                        state:
                          - value: "kern"
                            styles:
                              card:
                                - -webkit-box-shadow: 0px 0px 9px 3px rgba(255, 255, 255, 0.4)
                                - box-shadow: 0px 0px 9px 3px  rgba(255, 255, 255, 0.4)
                              label:
                                - color: >
                                    [[[
                                      if (states['input_boolean.bbq_meat_temp_alert_set'].state == 'on')
                                        return   'white';
                                      return 'grey';
                                    ]]]
                              name:
                                - color: "var(--primary-text-color)"
                        styles:
                          label:
                            - font-size: 1.1vw
                            - allign: left
                            - justify-self: start
                            - color: >
                                [[[
                                    if (states['input_boolean.bbq_meat_temp_alert_set'].state == 'on')
                                      return "var(--primary-text-color)";
                                    return "grey";
                                  ]]]
                          icon:
                            - font-size: 1vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_meat_temp_alert_set'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          name:
                            - font-size: 0.8vw
                            - color: grey
                            - allign: left
                            - justify-self: start
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                            - height: 70px

                  - type: conditional
                    conditions:
                      - entity: input_select.flameboss_thermo
                        state: "kern"
                      - entity: sensor.ibbq_temperature_probe_2
                        state_not: unavailable
                      - entity: input_boolean.bbq_meat_temp_alert_set
                        state: "off"
                    elements:
                      - type: custom:my-slider
                        thumbColor: rgba(255, 255, 255, 0.8)
                        intermediate: true
                        toggle_scroll: true
                        radius: 5px
                        maxSet: 300
                        maxBar: 300
                        minSet: 35
                        height: 35px
                        width: 100%
                        entity: input_number.bbq_meat_temp_alert
                        step: "1"
                        style:
                          left: 35.5%
                          top: 82%
                          width: 14%
                        mainSliderColor: rgba(255, 144, 0, 0.6)
                        secondarySliderColor: rgba(0, 0, 0, 0.2)
                        thumbWidth: 30px
                        card_mod:
                          style: |
                            ha-card {
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.3) !important;
                              border-radius: 25px !important;
                            }

                  - type: conditional
                    conditions:
                      - entity: input_boolean.bbq_meat_temp_alert_set
                        state: "off"
                      - entity: sensor.ibbq_temperature_probe_2
                        state_not: unavailable
                      - entity: input_select.flameboss_thermo
                        state: "kern"
                    elements:
                      - type: "custom:button-card"
                        entity: input_boolean.bbq_meat_temp_alert_set
                        size: 40%
                        show_state: false

                        show_label: true
                        show_icon: false
                        name: set
                        show_name: true
                        style:
                          left: 46%
                          top: 81.5%
                          width: 4.5%
                        tap_action:
                          haptic: medium
                          action: toggle
                        color: grey
                        icon: mdi:check
                        label: >
                          [[[
                            return states['input_number.bbq_meat_temp_alert'].state + '°c ' ;
                          ]]]
                        styles:
                          card:
                            - background-color: rgba(0, 0, 0, 0.2)
                          label:
                            - font-size: 1vw
                  - type: conditional
                    conditions:
                      - entity: input_boolean.bbq_pit_temp_alert_set
                        state: "on"
                      - entity: input_select.flameboss_thermo
                        state: "pit"
                    elements:
                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_pit_alert_lights
                        size: 33%
                        show_label: true
                        color_type: card
                        show_state: false
                        entity: input_boolean.bbq_pit_alert_lights
                        icon: mdi:alarm-light-outline
                        show_name: false
                        tap_action:
                          haptic: medium
                          action: toggle
                        label: flash lights
                        style:
                          left: 31%
                          top: 81%
                          width: 6%
                        styles:
                          label:
                            - font-size: 0.7vw
                            - allign: center
                            - color: grey
                          icon:
                            - font-size: 0.8vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_pit_alert_lights'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)

                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_pit_alert_phone
                        size: 33%
                        show_label: true
                        color_type: card
                        show_state: false
                        entity: input_boolean.bbq_pit_alert_phone
                        show_name: false
                        tap_action:
                          haptic: medium
                          action: toggle
                        label: phone
                        style:
                          left: 38.5%
                          top: 81%
                          width: 6%
                        styles:
                          label:
                            - font-size: 0.7vw
                            - allign: center
                            - color: grey
                          icon:
                            - font-size: 0.8vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_pit_alert_phone'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_pit_alert_sound
                        size: 33%
                        show_label: true
                        icon: mdi:speaker
                        color_type: card
                        show_state: false
                        entity: input_boolean.bbq_pit_alert_sound
                        show_name: false
                        tap_action:
                          haptic: medium
                          action: toggle
                        label: speaker
                        style:
                          left: 46%
                          top: 81%
                          width: 6%
                        styles:
                          label:
                            - font-size: 0.7vw
                            - allign: center
                            - color: grey
                          icon:
                            - font-size: 0.8vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_pit_alert_sound'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)

                  - type: conditional
                    conditions:
                      - entity: input_boolean.bbq_meat_temp_alert_set
                        state: "on"
                      - entity: input_select.flameboss_thermo
                        state: "kern"
                    elements:
                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_pit_alert_lights
                        size: 33%
                        show_label: true
                        color_type: card
                        show_state: false
                        entity: input_boolean.bbq_meat_alert_lights
                        icon: mdi:alarm-light-outline
                        show_name: false
                        tap_action:
                          haptic: medium
                          action: toggle
                        label: flash lights
                        style:
                          left: 31%
                          top: 81%
                          width: 6%
                        styles:
                          label:
                            - font-size: 0.7vw
                            - allign: center
                            - color: grey
                          icon:
                            - font-size: 0.8vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_meat_alert_lights'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)

                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_meat_alert_phone
                        size: 33%
                        show_label: true
                        color_type: card
                        show_state: false
                        entity: input_boolean.bbq_meat_alert_phone
                        show_name: false
                        tap_action:
                          haptic: medium
                          action: toggle
                        label: phone
                        style:
                          left: 38.5%
                          top: 81%
                          width: 6%
                        styles:
                          label:
                            - font-size: 0.7vw
                            - allign: center
                            - color: grey
                          icon:
                            - font-size: 0.8vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_meat_alert_phone'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                      - type: "custom:button-card"
                        triggers_update:
                          - input_boolean.bbq_meat_alert_sound
                        size: 33%
                        show_label: true
                        icon: mdi:speaker
                        color_type: card
                        show_state: false
                        entity: input_boolean.bbq_meat_alert_sound
                        show_name: false
                        tap_action:
                          haptic: medium
                          action: toggle
                        label: speaker
                        style:
                          left: 46%
                          top: 81%
                          width: 6%
                        styles:
                          label:
                            - font-size: 0.7vw
                            - allign: center
                            - color: grey
                          icon:
                            - font-size: 0.8vw
                            - color: >
                                [[[
                                  if (states['input_boolean.bbq_meat_alert_sound'].state == 'on')
                                    return "rgba(255, 144, 0, 0.8)";
                                  return "grey";
                                ]]]
                          card:
                            - background-color: rgba(0, 0, 0, 0.3)
                      # - type: 'custom:button-card'
                      #   entity: input_boolean.bbq_pit_temp_alert_set
                      #   size: 35%
                      #   show_state: false

                      #   show_label: true
                      #   show_icon: true
                      #   label: cancel
                      #   show_name: false
                      #   style:
                      #     left: 46%
                      #     top: 83%
                      #     width: 4.5%
                      #   state:
                      #     - value: 'on'
                      #       # color: "rgba(255, 144, 0, 0.6)"
                      #       color: grey
                      #       icon: mdi:speaker
                      #       tap_action:
                      #         action: none
                      #       size: 60%
                      #     - value: 'off'
                      #       tap_action:
                      #         haptic: medium
                      #         action: toggle
                      #       color: grey
                      #       icon: mdi:speaker
                      #       label: >
                      #         [[[
                      #           return states['input_number.bbq_pit_temp_alert'].state + '°c ' ;
                      #         ]]]
                      #   styles:
                      #     card:
                      #       - background-color:  rgba(0, 0, 0, 0.2)
                      #     label:
                      #       - font-size: 13px
                      #       - color: grey
                  - type: "custom:vertical-stack-in-card"
                    horizontal: true
                    style:
                      left: 37%
                      top: 91%
                      width: 20%
                    cards:
                      - type: "custom:button-card"
                        entity: sensor.ibbq_temperature_probe_1
                        show_entity_picture: true
                        show_state: false
                        show_label: true
                        show_name: true
                        name: BBQ temp.
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        state:
                          - value: "unavailable"
                            label: "uit"
                            entity_picture: /local/ui/ui_img/flameboss-icon-kamado_off.png
                            color: grey
                            styles:
                              label:
                                - color: grey
                                - font-size: 0.7w

                          - value: "unavailable"
                            operator: "!="
                            entity_picture: /local/ui/ui_img/flameboss-icon-kamado.png
                            label: >
                              [[[
                                return  states['sensor.ibbq_temperature_probe_1'].state + '°c';
                              ]]]
                            styles:
                              label:
                                - color: white
                                - font-size: 24px
                        # style:
                        #   left: 30%
                        #   top: 91%
                        styles:
                          entity_picture:
                            - width: 35%
                          name:
                            - font-size: 0.8vw
                            - color: grey
                      - type: "custom:button-card"
                        entity: sensor.ibbq_temperature_probe_2

                        show_state: false
                        show_label: true
                        show_name: true
                        show_icon: false
                        name: Kerntemp.
                        show_entity_picture: true
                        tap_action:
                          action: none
                        state:
                          - value: unavailable
                            label: uit
                            entity_picture: /local/ui/ui_img/flameboss-icon-meat-off.png
                            color: grey
                            styles:
                              label:
                                - color: grey
                                - font-size: 0.7w
                          - value: 0
                            operator: "!="
                            entity_picture: /local/ui/ui_img/flameboss-icon-meat.png
                            label: >
                              [[[
                                return  states['sensor.ibbq_temperature_probe_2'].state + '°c';
                              ]]]
                            styles:
                              label:
                                - color: white
                                - font-size: 24px
                        # style:
                        #   left: 37%
                        #   top: 91%
                        styles:
                          entity_picture:
                            - width: 35%
                          name:
                            - font-size: 0.8vw
                            - color: grey

                      # - type: 'custom:button-card'
                      #   entity: sensor.flameboss_blower
                      #   show_entity_picture: true
                      #   show_state: false
                      #   show_name: true
                      #   name: blower
                      #   show_label: true
                      #   entity_picture: /local/ui/ui_img/flameboss-fan-animated.gif
                      #   tap_action:
                      #     action: none
                      #   hold_action:
                      #     action: none
                      #   state:
                      #     - value: -1
                      #       color: var(--disabled-text-color)
                      #       entity_picture: /local/ui/ui_img/flameboss-icon-blower.png
                      #       styles:
                      #         label:
                      #           - color: grey
                      #           - font-size: 0.7w
                      #       label: 'uit'
                      #       show_state: false
                      #     - value: 0
                      #       operator: '>='
                      #       entity_picture: /local/ui/ui_img/flameboss-fan-animated.gif
                      #       label: >
                      #         [[[
                      #           return  states['sensor.flameboss_blower'].state + '%';
                      #         ]]]
                      #       styles:
                      #         label:
                      #           - color: white
                      #           - font-size: 1w
                      #   styles:
                      #     entity_picture:
                      #       - width: 35%
                      #       - mix-blend-mode: lighten
                      #     name:
                      #       - font-size: 0.8vw
                      #       - color: grey

              ### Graph ###
              - type: conditional
                conditions:
                  - entity: input_select.bbq_view
                    state: "graph"
                elements:
                  - type: custom:config-template-card
                    entities:
                      # - input_number.flameboss_kern_temp_alarm
                      # - input_boolean.flameboss_kern_temp_setter
                      # - input_number.flameboss_set_pittemp
                      # - sensor.flameboss_pittemp_sensor
                      # - input_boolean.flameboss_temp_setter
                      # - sensor.flameboss_temp_meat
                      - input_number.bbq_test1
                      - input_number.bbq_test2
                      - input_number.flameboss_graph_max
                      - input_number.bbq_meat_temp_alert
                      - input_boolean.bbq_meat_temp_alert_set
                      - input_number.bbq_pit_temp_alert
                      - input_boolean.bbq_meat_temp_alert_set
                      - sensor.ibbq_temperature_probe_1
                      - sensor.ibbq_temperature_probe_2
                    variables:
                      - states['input_number.bbq_meat_temp_alert'].state #vars[0]
                      - states['input_number.bbq_pit_temp_alert'].state #vars[1]
                      - states['input_boolean.bbq_meat_temp_alert_set'].state #vars[2]
                      - states['input_boolean.bbq_pit_temp_alert_set'].state #vars[3]
                      - states['input_boolean.bbq_meat_temp_alert_set'].state #vars[4]
                      - states['sensor.ibbq_temperature_probe_1'].state #vars[5]

                      - parseFloat(states['input_number.bbq_pit_temp_alert'].state) #vars[6]
                      - parseFloat(states['sensor.ibbq_temperature_probe_1'].state) #vars[7]
                      # - parseFloat(states['input_number.bbq_test1'].state) #vars[7]
                      - parseFloat(states['sensor.graph_max_bbq'].state) #vars[8]
                      - parseFloat(states['sensor.ibbq_temperature_probe_2'].state) #vars[9]
                      # - parseFloat(states['input_number.bbq_test2'].state) #vars[9]
                    style:
                      top: 83%
                      left: 38%
                      width: 22.5%
                    element:
                      type: "custom:apexcharts-card"
                      # style:
                      #   top: 83%
                      #   left: 37%
                      #   width: 22%
                      card_mod:
                        style: |
                          ha-card {
                            overflow: visible;
                          }
                      graph_span: 90m
                      span:
                        end: minute
                      header:
                        colorize_states: true
                        # style:
                        #   fontSize: 8px
                        # show_title: false
                        show_states: true
                        floating: true

                      apex_config:
                        fill:
                          type: gradient
                          gradient:
                            type: horizontal
                            fill: dark
                            shadeIntensity: 1
                            stops:
                              - 0
                              - 500
                            opacityFrom:
                              - 0.6
                              - 0.2
                              - 0.6
                            opacityTo: 1
                        annotations:
                          position: front
                          yaxis:
                            - "y": "${vars[1]}" ### BBQ SET
                              strokeDashArray: 3
                              borderColor: "${vars[3] === 'on' ?  'var(--primary-color)' :'rgba(0, 0, 0, 0)'}"
                              borderWidth: 3
                              label:
                                borderColor: "rgba(0, 0, 0, 1)"
                                position: "left"
                                offsetX: 20
                                text: "${vars[3] === 'on' ? 'BBQ ° ' : ''}"
                                style:
                                  color: "${vars[3] === 'on' ? 'var(--primary-color)' : 'rgba(0, 0, 0, 0)'}"
                                  background: "${vars[3] === 'on' ? 'rgba(0, 0, 0, 1)' : 'rgba(0, 0, 0, 0)'}"
                            - "y": "${vars[0]}" ###  temp alarm
                              strokeDashArray: 3
                              borderColor: "${vars[2] === 'on' ?  'rgba(255, 144, 0, 0.8' :'rgba(0, 0, 0, 0)'}"
                              borderWidth: 3
                              label:
                                borderColor: "rgba(0, 0, 0, 1)"
                                position: "left"
                                offsetX: 20
                                text: "${vars[2] === 'on' ? 'MEAT' : ''}"
                                style:
                                  color: "${vars[2] === 'on' ? 'rgba(255, 144, 0, 0.8)' : 'rgba(0, 0, 0, 0)'}"
                                  background: "${vars[2] === 'on' ? 'rgba(0, 0, 0, 1)' : 'rgba(0, 0, 0, 0)'}"

                          #   - 'y': '${vars[1]}'
                          #     strokeDashArray: 6
                          #     borderColor: var(--primary-color)
                          #     borderWidth: 3
                          #     label:
                          #       borderColor: var(--primary-color)
                          #       text: 'min'
                          #       style:
                          #         color: '#ffffff'
                          #         background: var(--primary-color)

                        stroke:
                          width: 1
                          curve: smooth
                        yaxis:
                          forceNiceScale: true
                          opposite: true
                          decimalsInFloat: 0
                          min: 25
                          # max: 250
                          max: ${vars[8]}
                          tickAmount: 5

                        xaxis:
                          tickAmount: 5
                          labels:
                            format: hh:mm
                            tickAmount: 5
                            show: true
                            showAlways: true
                            style:
                              fontSize: 10px
                        chart:
                          height: 260
                        #   # width: 300
                        legend:
                          show: true
                          floating: true
                          fontSize: "14px"
                          position: "top"
                          # offsetY: -10
                          style:
                            fontSize: 14px
                        dataLabels:
                          enabled: true
                      series:
                        - color: var(--primary-color)
                          entity: sensor.ibbq_temperature_probe_1
                          # entity: input_number.bbq_test1
                          opacity: 0.7
                          name: Pit temp.
                          # name:  "${'vars[6]}' > 1 ? 'Vlees temp' : 'X'}"
                          type: area
                          show:
                            in_chart: true
                            hidden_by_default: false
                            legend_value: "${vars[7] === '0' ? false : true}"
                          group_by:
                            func: last
                            duration: 5m
                            start_with_last: true
                            fill: last
                          extend_to: now
                          stroke_width: 8
                          curve: straight
                          fill_raw: last
                        - color: "#ff9000"
                          entity: sensor.ibbq_temperature_probe_2
                          # entity: input_number.bbq_test2
                          opacity: 0.7
                          name: Kern temp.
                          # name:  "${'vars[6]}' > 1 ? 'Vlees temp' : 'X'}"
                          type: area
                          show:
                            in_chart: true
                            hidden_by_default: false
                            legend_value: "${vars[9] === '0' ? false : true}"
                          group_by:
                            func: last
                            duration: 5m
                            start_with_last: true
                            fill: last
                          extend_to: now
                          stroke_width: 8
                          curve: straight
                          fill_raw: last
                        # - color: var(--secondary-color)
                        #   # entity: sensor.ibbq_temperature_probe_2
                        #   entity: input_number.bbq_test2
                        #   name: Meat temp.
                        #   type: line
                        #   group_by:
                        #     func: avg
                        #     duration: 2m
                        #   extend_to: now
                        #   show:
                        #     in_chart: false
                        #     hidden_by_default: false
                        #     legend_value: false

              - type: image
                image: /local/ui/ui_img/bbq_title.png
                entity: input_select.bbq_view
                tap_action:
                  action: none
                style:
                  left: 38%
                  top: 65%
                  width: 22%

              ###### Menu #######

              - type: "custom:button-card"
                show_name: false
                entity: input_select.bbq_view
                color: var(--secondary-color)
                state:
                  - operator: ==
                    value: graph
                    color: var(--primary-color)
                color_type: icon
                haptic: medium
                icon: mdi:chart-bell-curve-cumulative
                size: 40%
                tap_action:
                  action: call-service
                  haptic: medium
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.bbq_view
                    option: graph

                style:
                  left: 47%
                  top: 64.5%
                  width: 5%

              - type: "custom:button-card"
                show_name: false
                entity: input_select.bbq_view
                color: var(--secondary-color)
                state:
                  - operator: ==
                    value: notgraph
                    color: var(--primary-color)
                color_type: icon
                haptic: medium
                size: 40%
                icon: mdi:thermometer-plus
                tap_action:
                  action: call-service
                  haptic: medium
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.bbq_view
                    option: notgraph
                style:
                  left: 43%
                  top: 64.5%
                  width: 5%

          ### Zonnepanelen ###

          - type: conditional
            conditions:
              - entity: input_select.bbq_view
                state: "off"
            elements:
              - type: image
                image: /local/ui/ui_img/fronius_title.png
                entity: input_boolean.flameboss_status
                tap_action:
                  action: toggle
                style:
                  left: 38%
                  top: 65%
                  width: 22%

          - tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  size: wide
                  content:
                    type: "custom:webrtc-camera"
                    entity: camera.outdoor_cam_hd_stream
                  title: Tuin CAM
            image: /local/ui/nix100100.png
            style:
              left: 16%
              top: 46%
              width: 5%
            type: image

          ##### BEWATERING ####

          - type: "custom:vertical-stack-in-card"
            style:
              left: 58%
              top: 72%
              width: 14%
            horizontal: true
            cards:
              - type: "custom:button-card"
                size: 65%
                entity: input_select.tuin_ui_bewaterselectie
                color: var(--disabled-text-color)
                icon: mdi:sprout
                name: 6h
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: kruidenwand
                    entity_id: input_select.tuin_ui_bewaterselectie
                show_state: false
                show_label: false
                show_name: false
                state:
                  - value: kruidenwand
                    color: var(--primary-color)
                    show_label: true
                    label: "kruidenwand"
                    icon: mdi:sprout

              - type: "custom:button-card"
                size: 65%
                entity: input_select.tuin_ui_bewaterselectie
                color: var(--disabled-text-color)
                icon: mdi:tree
                show_state: false
                show_label: false
                show_name: false

                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: olijf
                    entity_id: input_select.tuin_ui_bewaterselectie
                state:
                  - value: "olijf"
                    color: var(--primary-color)
                    icon: mdi:tree
              - type: "custom:button-card"
                size: 65%
                entity: input_select.tuin_ui_bewaterselectie
                color: var(--disabled-text-color)
                icon: mdi:flower-poppy
                show_state: false
                show_label: false
                show_name: false
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: hop
                    entity_id: input_select.tuin_ui_bewaterselectie
                state:
                  - value: "hop"
                    color: var(--primary-color)
                    icon: mdi:flower-poppy
              - type: "custom:button-card"
                entity: input_select.tuin_ui_bewaterselectie
                color: var(--disabled-text-color)
                icon: mdi:fruit-citrus
                size: 65%
                show_state: false
                show_label: false
                show_name: false
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: citroen
                    entity_id: input_select.tuin_ui_bewaterselectie
                state:
                  - value: "citroen"
                    color: var(--primary-color)
                    icon: mdi:fruit-citrus
          # - type: conditional
          #   conditions:
          #     - entity: timer.bewatering
          #       state_not: "idle"
          #   elements:
          #     - type: 'custom:button-card'
          #       entity: input_select.tuin_ui_bewaterselectie
          #       color: var(--disabled-text-color)
          #       size: 40%
          #       show_state: true
          #       show_label: false
          #       show_name: false
          #       show_icon: false
          #       tap_action:
          #         action: none
          #       styles:
          #         state:
          #           - color: var(--primary-color)
          #           - font-size: 12px
          #           - justify-self: start
          #       style:
          #         left: 62.5%
          #         top: 73%
          #         width: 10%

          ################### olijfbomen ###########################
          - type: conditional
            conditions:
              - entity: input_select.tuin_ui_bewaterselectie
                state: "olijf"
            elements:
              - type: "custom:apexcharts-card"
                graph_span: 5d
                cache: true
                hours_12: false
                # y_axis_precision: 0
                all_series_config:
                  # stroke_width: 3
                  show:
                    legend_value: true
                  type: area
                style:
                  left: 62%
                  top: 86%
                  width: 23%
                span:
                  end: day
                header:
                  title: Olijfbomen
                  show: true
                  show_states: false
                  colorize_states: true
                apex_config:
                  chart:
                    height: 200
                  xaxis:
                    labels:
                      format: dd
                      show: true
                      showAlways: true
                  # stroke:
                  #   width: 8
                  #   curve: smooth
                  yaxis:
                    - show: true
                      min: 0
                      max: 1000
                      decimalsInFloat: 0
                      forceNiceScale: false
                      tickAmount: 5
                    - show: true
                      min: 0
                      max: 80
                      tickAmount: 5
                      opposite: true
                      decimalsInFloat: 0
                      forceNiceScale: false
                  legend:
                    show: true
                  dataLabels:
                    enabled: true
                series:
                  - color: "#7f859d"
                    entity: sensor.olijfbomen_conductivity
                    # attribute: current_temperature
                    name: Vruchtbaarheid
                    # unit: °C
                    type: column
                    group_by:
                      func: max
                      duration: 1d
                    extend_to: end
                    stroke_width: 10
                  - color: "#368ed1"
                    entity: sensor.olijfbomen_moisture
                    name: Vocht
                    group_by:
                      func: avg
                      duration: 4h
                    stroke_width: 3
                    extend_to: end
          ################### citroenplant  ###########################
          - type: conditional
            conditions:
              - entity: input_select.tuin_ui_bewaterselectie
                state: "citroen"
            elements:
              - type: "custom:apexcharts-card"
                graph_span: 5d
                cache: true
                hours_12: false
                # y_axis_precision: 0
                all_series_config:
                  # stroke_width: 3
                  show:
                    legend_value: true
                  type: area
                style:
                  left: 62%
                  top: 86%
                  width: 23%
                span:
                  end: day
                header:
                  show: true
                  title: Citroenplant
                  show_states: false
                  colorize_states: true
                apex_config:
                  chart:
                    height: 200
                  xaxis:
                    labels:
                      format: dd
                      show: true
                      showAlways: true
                  # stroke:
                  #   width: 8
                  #   curve: smooth
                  yaxis:
                    - show: true
                      min: 0
                      max: 1000
                      decimalsInFloat: 0
                      forceNiceScale: true
                    - show: true
                      min: 0
                      max: 80
                      opposite: true
                      decimalsInFloat: 0
                      forceNiceScale: true
                  legend:
                    show: true
                  dataLabels:
                    enabled: true
                series:
                  - color: "#7f859d"
                    entity: sensor.citroenplant_conductivity
                    # attribute: current_temperature
                    name: Vruchtbaarheid
                    # unit: °C
                    type: column
                    group_by:
                      func: max
                      duration: 1d
                    extend_to: end
                    stroke_width: 10
                  - color: "#368ed1"
                    entity: sensor.citroenplant_moisture
                    name: Vocht
                    group_by:
                      func: avg
                      duration: 4h
                    stroke_width: 3
                    extend_to: end
          ################### hop ###########################
          - type: conditional
            conditions:
              - entity: input_select.tuin_ui_bewaterselectie
                state: "hop"
            elements:
              - type: "custom:apexcharts-card"
                graph_span: 5d
                cache: true
                hours_12: false
                # y_axis_precision: 0
                all_series_config:
                  # stroke_width: 3
                  show:
                    legend_value: true
                  type: area
                style:
                  left: 62%
                  top: 86%
                  width: 23%
                span:
                  end: day
                header:
                  show: true
                  title: Hopplant
                  show_states: false
                  colorize_states: true
                apex_config:
                  chart:
                    height: 200
                  xaxis:
                    labels:
                      format: dd
                      show: true
                      showAlways: true
                  # stroke:
                  #   width: 8
                  #   curve: smooth
                  yaxis:
                    - show: true
                      min: 0
                      max: 1000
                      decimalsInFloat: 0
                      forceNiceScale: true
                    - show: true
                      min: 0
                      max: 80
                      opposite: true
                      decimalsInFloat: 0
                      forceNiceScale: true
                  legend:
                    show: true
                  dataLabels:
                    enabled: true
                series:
                  - color: "#7f859d"
                    entity: sensor.hopplant_conductivity
                    # attribute: current_temperature
                    name: Vruchtbaarheid
                    # unit: °C
                    type: column
                    group_by:
                      func: max
                      duration: 1d
                    extend_to: end
                    stroke_width: 10
                  - color: "#368ed1"
                    entity: sensor.hopplant_moisture
                    name: Vocht
                    group_by:
                      func: avg
                      duration: 4h
                    stroke_width: 3
                    extend_to: end

          ################### kruidenwand ###########################
          - type: conditional
            conditions:
              - entity: input_select.tuin_ui_bewaterselectie
                state: "kruidenwand"
            elements:
              - type: "custom:apexcharts-card"
                graph_span: 5d
                cache: true
                hours_12: false
                # y_axis_precision: 0
                all_series_config:
                  # stroke_width: 3
                  show:
                    legend_value: true
                  type: area
                style:
                  left: 62%
                  top: 86%
                  width: 23%
                span:
                  end: day
                header:
                  show: true
                  title: Kruidenwand
                  show_states: false
                  colorize_states: true
                apex_config:
                  chart:
                    height: 200
                  xaxis:
                    labels:
                      format: dd
                      show: true
                      showAlways: true
                  # stroke:
                  #   width: 8
                  #   curve: smooth
                  yaxis:
                    - show: true
                      min: 0
                      max: 1000
                      decimalsInFloat: 0
                      forceNiceScale: true
                    - show: true
                      min: 0
                      max: 80
                      opposite: true
                      decimalsInFloat: 0
                      forceNiceScale: true
                  legend:
                    show: true
                  dataLabels:
                    enabled: true
                series:
                  - color: "#7f859d"
                    entity: sensor.kruidenwand_conductivity
                    # attribute: current_temperature
                    name: Vruchtbaarheid
                    # unit: °C
                    type: column
                    group_by:
                      func: max
                      duration: 1d
                    extend_to: end
                    stroke_width: 10
                  - color: "#368ed1"
                    entity: sensor.kruidenwand_moisture
                    name: Vocht
                    group_by:
                      func: avg
                      duration: 4h
                    stroke_width: 3
                    extend_to: end

          ################### input select ###########################
          # - type: conditional
          #   conditions:
          #     - entity: timer.bewatering
          #       state: "idle"
          #   elements:
          #     - type: custom:vertical-stack-in-card
          #       cards:
          #         - type: entities
          #           show_name: false
          #           show_title:
          #           show_icon: false

          #           entities:
          #             - entity: input_select.tuin_bewatering
          #               show_name: false
          #               show_title: false
          #               icon: false
          #           state_color: false
          #       style:
          #         left: 66%
          #         top: 70%
          #         width: 12%
          - type: conditional
            conditions:
              - entity: timer.bewatering
                state: "idle"
            elements:
              - type: "custom:button-card"
                entity: script.bewateren_10_min
                confirmation:
                  text: "Tuin bewateren voor 10 min?"

                # size: 60%
                show_state: false
                show_label: false
                # label: '(10 min)'
                show_name: true
                name: start
                show_icon: true
                tap_action:
                  action: call-service
                  service: script.bewateren_10_min
                styles:
                  name:
                    - font-size: 20px
                  label:
                    - color: grey
                    - font-size: 16px
                    # - justify-self: start
                  icon:
                    - color: white
                    - font-size: 25px
                    # - justify-self: start
                style:
                  left: 71%
                  top: 71%
                  width: 10%

          - type: conditional
            conditions:
              - entity: timer.bewatering
                state_not: "idle"
            elements:
              - type: "custom:button-card"
                entity: timer.bewatering
                # size: 60%
                show_state: true
                show_label: false
                label: start
                show_name: false
                show_icon: true
                tap_action:
                  action: none
                styles:
                  # state:
                  #   - color: var(--primary-color)
                  #   # - font-size: 25px
                  #   # - justify-self: start

                  icon:
                    - animation: blink 2s ease infinite
                    - color: var(--primary-color)
                style:
                  left: 68%
                  top: 69%
                  width: 10%
              - type: "custom:button-card"
                entity: script.tuinirrigatie_uitzetten
                size: 75%
                show_state: false
                show_label: true
                show_name: false
                show_icon: false
                tap_action:
                  action: call-service
                  haptic: medium
                  service: script.tuinirrigatie_uitzetten
                label: "stop"
                styles:
                  # state:
                  #   - color: var(--primary-color)
                  #   # - font-size: 25px
                  #   # - justify-self: start

                style:
                  left: 68%
                  top: 75%
                  width: 10%
          ################### weer ###########################

          - entity: weather.buienradar
            type: custom:weather-card
            forecast: false
            details: false
            style:
              left: 86%
              top: 66%
              width: 22%
              font-size: 0.6vw
          - type: custom:config-template-card
            entities:
              - weather.buienradar
            style:
              left: 87%
              top: 83%
              width: 22%
              font-size: 0.7vw
            element:
              type: "custom:swipe-card"

              parameters:
                # slidesPerView: "auto"
                snapOnRelease: true
                # spaceBetween: 50
                grabCursor: false
                nested: true
              cards:
                - type: "custom:vertical-stack-in-card"
                  cards:
                    - entity: weather.buienradar
                      type: custom:weather-card
                      current: false
                      forecast: true
                      details: false
                      hourly_forecast: false
                      number_of_forecasts: 5

                    - type: "custom:neerslag-card"
                      entities:
                        - sensor.neerslag_buienalarm_regen_data
                        - sensor.neerslag_buienradar_regen_data
                      long: 5.0511
                      lat: 52.0978
                      lineColor: "rgba(89, 160, 238, 1)"
                      fillColor: "rgba(89, 160, 238, 0.2)"
                      update_interval: 50
                      icon: mdi:stairs
                      style:
                        icon-size: 6vw
                      card_mod:
                        style: |
                          ha-card {
                            overflow: hidden !important;
                            margin-bottom: -34px !important;
                            margin-top: -10% !important;
                          }

                # - type: 'custom:apexcharts-card'
                #   update_interval: 5m
                #   apex_config:
                #     chart:
                #       height: 200
                #       zoom:
                #         type: x
                #         enabled: true
                #         autoScaleYaxis: false
                #   # y_axis_precision: 1
                #   graph_span: 8h
                #   now:
                #     show: true
                #   span:
                #     start: hour
                #   header:
                #     show: true
                #     title: Temperatuur +8h
                #     colorize_states: true
                #     show_states: false
                #   series:
                #     - entity: weather.buienradar
                #       show:
                #         in_header: raw
                #       type: area
                #       data_generator: |
                #         return entity.attributes.forecast.map((entry) => {
                #           return [new Date(entry.datetime), entry.temperature];
                #           });

                - type: picture-entity
                  entity: weather.buienradar
                  camera_image: camera.buienradar
                  aspect_ratio: "4:3"
                  style:
                    mix-blend-mode: screen
                    top: 5%

              ################################# AFVAL #############################################
          - type: conditional
            conditions:
              - entity: sensor.afvalinfo_home_trash_type_today
                state_not: "gft"
            elements:
              - type: state-label
                entity: sensor.afvalinfo_home_gft
                attribute: days_until_collection_date
                style:
                  color: "rgba(255, 255, 255, 1)"
                  font-size: 2vw
                  font-weight: 300
                  left: 94%
                  top: 50%
                  text-align: left
                tap_action:
                  action: none
          - type: conditional
            conditions:
              - entity: sensor.afvalinfo_home_trash_type_today
                state: "gft"
            elements:
              - type: "custom:button-card"
                icon: "mdi:exclamation-thick"
                color_type: card
                color: "rgba(0, 0, 0, 0)"
                style:
                  left: 94%
                  top: 51%
                styles:
                  name:
                    - color: white
                    - font-size: 18px

          - type: conditional
            conditions:
              - entity: sensor.afvalinfo_home_trash_type_today
                state_not: "papier"
            elements:
              - entity: sensor.afvalinfo_home_papier
                attribute: days_until_collection_date

                style:
                  color: "rgba(255, 255, 255, 1)"
                  font-size: 2vw
                  font-weight: 300
                  left: 95.5%

                  text-align: left
                  top: 57.5%

                tap_action:
                  action: none
                type: state-label
          - type: conditional

            conditions:
              - entity: sensor.afvalinfo_home_trash_type_today
                state: "papier"
            elements:
              - type: "custom:button-card"
                icon: "mdi:exclamation-thick"
                color_type: card
                color: "rgba(0, 0, 0, 0)"
                style:
                  left: 95.5%

                  text-align: left
                  top: 57.5%
                styles:
                  name:
                    - color: white
                    - font-size: 18px

          ################# naar binnen #########################
          - type: image
            image: /local/ui/ledniks_ver.png
            style:
              left: 19%
              top: 31%
              width: 9%
              height: 27%
              opacity: 0%
              # background-color: "rgba(0, 0 , 0 , 0)"
            tap_action:
              action: navigate
              navigation_path: /lovelace/0

          ################# Zonnescherm #########################
          - type: image
            entity: cover.zonnescherm
            image: /local/ui/ledniks_ver.png
            style:
              left: 14%
              top: 10%
              width: 4%
              height: 33%
              opacity: 0%
              transform: rotate(15deg)
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  content:
                    type: custom:mushroom-cover-card
                    show_position_control: true
                    show_tilt_position_control: false
                    show_buttons_control: false

                    entity: cover.zonnescherm
                    icon: mdi:awning

          ################# naar boven #########################
          - type: image
            image: /local/ui/ledniks_ver.png
            style:
              left: 4%
              top: 28%
              width: 16%
              height: 50%
              opacity: 0%

            tap_action:
              action: navigate
              navigation_path: /lovelace/2

          ########### POPUPS #################
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state_not: none
            elements:
              - type: image
                entity: input_text.lamptoggle
                tap_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle
                hold_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle
                image: /local/ui/transparant_background.png

                style:
                  left: 50%
                  top: 50%
                  width: 100%
                  opacity: 0
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.tuinsokkel_rechts
              - entity: light.tuinsokkel_rechts
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.tuinsokkel_rechts
                style:
                  left: 70%
                  top: 50%
                  width: 18%
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    state-card-toggle {
                      display: none;
                    }
                    card-header {
                      display: none;
                    }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.tuinsokkel_links
              - entity: light.tuinsokkel_links
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.tuinsokkel_links
                style:
                  left: 38%
                  top: 50%
                  width: 25%
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    state-card-toggle {
                      display: none;
                    }
                    card-header {
                      display: none;
                    }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.wandlamp_schuur
              - entity: light.wandlamp_schuur
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.wandlamp_schuur
                title: " "
                style:
                  left: 70%
                  top: 50%
                  width: 20%
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.ledstrip_tuin
              - entity: light.ledstrip_tuin
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.ledstrip_tuin
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 64%
                  top: 40%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.hue_discover_outdoor_wall_1
              - entity: light.hue_discover_outdoor_wall_1
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.hue_discover_outdoor_wall_1
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 25%
                  top: 35%
                  width: 18%
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.hue_wandlamp
              - entity: light.hue_wandlamp
                state: "on"
            elements:
              - type: custom:more-info-card
                entity: light.hue_wandlamp
                title: " "
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 13% !important;
                      overflow: hidden !important;
                      height: 550px;
                      background-color: rgba(10, 10, 10, 0.6) !important;
                    }
                    .state-card-toggle {
                      display: none;
                    }
                    .h1.card-header {
                      display: none;
                    }
                    name {
                      font-weight: 400;
                    }
                style:
                  left: 25%
                  top: 35%
                  width: 18%
  #############################################################################################################################################
  #                                                                                                                                           #
  #                                                               1FL NEW                                                                    #
  #                                                                                                                                           #
  #############################################################################################################################################
  - title: 1fl2
    icon: mdi:test-tube
    theme: "Custom Dark"
    panel: true
    badges: []
    cards:
      - type: picture-elements
        image: /local/ui/transparant_background.png
        tap_action:
          action: none
        elements:
          # - type: 'custom:auto-reload-card'
          #   delay_in_minute: 5
          - action: none
            entity: sun.sun
            hold_action:
              action: none
            state_image:
              above_horizon: /local/ui/floorplan/1fl/1fl_dayview.jpg
              below_horizon: /local/ui/floorplan/1fl/1fl_nightview.jpg?
            style:
              height: 100%
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type:
              image

              # ######## Lights Kamer Tom #######
          - type: custom:config-template-card
            entities:
              - light.baby_lightstrip
            variables:
              - states['light.baby_lightstrip'].state
              - states['light.baby_lightstrip'].attributes.brightness
              - states['light.baby_lightstrip'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              image: /local/ui/nixx.png
              action: none
              entity: light.baby_lightstrip
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_tom_ledstrip.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.lichtbol_tom
            variables:
              - states['light.lichtbol_tom'].state
              - states['light.lichtbol_tom'].attributes.brightness
              - states['light.lichtbol_tom'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              image: /local/ui/nixx.png
              mix-blend-mode: screen
              opacity: 0.5
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.lichtbol_tom
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_tom_iris_bol.jpg
                "off": /local/ui/nixx.png

              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.lichtbol_tom
            variables:
              - states['light.lichtbol_tom'].state
              - states['light.lichtbol_tom'].attributes.brightness
              - states['light.lichtbol_tom'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.lichtbol_tom
              hold_action:
                action: none
              image: /local/ui/floorplan/1fl/1fl_tom_iris_bol.jpg

              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.babylamp_1
            variables:
              - states['light.babylamp_1'].state
              - states['light.babylamp_1'].attributes.brightness
              - states['light.babylamp_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.babylamp_1
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_tom_hanglamp.jpg?v=1
              tap_action:
                action: none
              type:
                image
                # ######## Lights badkamer  #######

          - action: none
            entity: switch.badkamer_switch_1
            image: /local/ui/nixx.png
            style:
              left: 50%
              top: 50%
              width: 100%
              mix-blend-mode: screen
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/1fl/1fl_badkamerspots.jpg
              "off": /local/transparent.png
              "unavailable": /local/transparent.png
            tap_action:
              action: none
            type: image
          # - type: custom:config-template-card
          #   entities:
          #     - switch.bk_spiegel
          #   style:
          #     left: 50%
          #     mix-blend-mode: screen
          #     # opacity: "${states['switch.bk_spots'].state === 'on' ? (states['light.badkamer'].attributes.brightness / 200) : '0'}"
          #     top: 50%
          #     width: 100%
          #   element:
          #     action: none
          #     entity: switch.bk_spiegel
          #     name: Badkamer
          #     hold_action:
          #       action: none
          #     state_image:
          #       "on": /local/ui/floorplan/1fl/1fl_badkamerspiegel.jpg
          #       "off": /local/transparent.png
          #     tap_action:
          #       action: none
          #     type: image

          # ######## Lights slaapKamer  #######
          - type: custom:config-template-card
            entities:
              - light.bedlamp_bas
            variables:
              - states['light.bedlamp_bas'].state
              - states['light.bedlamp_bas'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              type: image
              action: none
              entity: light.bedlamp_bas
              hold_action:
                action: none
              image: /local/ui/floorplan/1fl/1fl_slaapkamer_bedlamp_bas.jpg
              tap_action:
                action: none
          - action: none
            entity: light.gang_boven
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/1fl/1fl_gang_lamp.jpg
            image: /local/ui/nixx.png
            style:
              left: 50%
              mix-blend-mode: screen
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image
          - type: custom:config-template-card
            entities:
              - light.bedlamp_shel
            variables:
              - states['light.bedlamp_shel'].state
              - states['light.bedlamp_shel'].attributes.brightness
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.bedlamp_shel
              hold_action:
                action: none
              image: /local/ui/nixx.png
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_slaapkamer_bedlamp_shel.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.slaapkamer_lamp
            variables:
              - states['light.slaapkamer_lamp'].state
              - states['light.slaapkamer_lamp'].attributes.brightness
              - states['light.slaapkamer_lamp'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: 0.3
              top: 50%
              left: 50%
              width: 100%
            element:
              image: /local/ui/nixx.png
              action: none
              entity: light.slaapkamer_lamp
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_hanglamp_slaapkamer.jpg
                "off": /local/ui/nixx.png
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.slaapkamer_lamp
            variables:
              - states['light.slaapkamer_lamp'].state
              - states['light.slaapkamer_lamp'].attributes.brightness
              - states['light.slaapkamer_lamp'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              image: /local/ui/nixx.png
              entity: light.slaapkamer_lamp
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_hanglamp_slaapkamer.jpg
              tap_action:
                action: none
              type:
                image

                # ######## Lights beneden en boven  #######

          - type: custom:config-template-card
            entities:
              - light.studio
            variables:
              - states['light.studio'].state
              - states['light.studio'].attributes.brightness
              - states['light.studio'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              image: /local/ui/nixx.png
              entity: light.studio
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/1fl/1fl_studio_aan.jpg
              tap_action:
                action: none
              type: image
          - type: image
            action: none
            entity: light.gang_filament_globe
            image: /local/ui/nixx.png
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/1fl/1fl_benedenlichtaan.jpg
            tap_action:
              action: none
            style:
              mix-blend-mode: screen
              top: 50%
              left: 50%
              width: 100%
              
          - type: image
            action: none
            entity: light.zolder
            image: /local/ui/nixx.png
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/1fl/1fl_lichtzolderaan.jpg
            tap_action:
              action: none
            style:
              mix-blend-mode: screen
              top: 50%
              left: 50%
              width: 100%
          # - type: custom:config-template-card
          #   entities:
          #     - light.studio
          #   variables:
          #     - states['light.studio'].state
          #     - states['light.studio'].attributes.brightness
          #     - states['light.studio'].attributes.hs_color
          #   style:
          #     filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
          #     mix-blend-mode: screen
          #     opacity: '${vars[0] === ''on'' ? (vars[1] / 255) : ''0''}'
          #     top: 50%
          #     left: 50%
          #     width: 100%
          #   element:
          #     action: none
          #     image: /local/ui/nixx.png
          #     entity: light.studio
          #     hold_action:
          #       action: none
          #     state_image:
          #       "on": /local/ui/floorplan/1fl/1fl_studio_aan.jpg?v=1
          #     tap_action:
          #       action: none
          #     type: image

          ########### ANIMATIONS ##############

          - action: none
            entity: climate.slaapkamer
            image: /local/ui/nix100100.png
            hold_action:
              action: none
            state_image:
              cool: /local/ui/ui_img/airflow1.gif
            style:
              left: 33%
              mix-blend-mode: lighten
              top: 16%
              width: 9%
            tap_action:
              action: none
            type: image
          - action: none
            image: /local/ui/nix100100.png
            entity: climate.bram
            hold_action:
              action: none
            state_image:
              cool: /local/ui/ui_img/airflow1.gif
            style:
              left: 88%
              mix-blend-mode: lighten
              top: 40%
              width: 9%
            tap_action:
              action: none
            type: image

          - action: none
            image: /local/ui/nix100100.png
            entity: climate.studio
            hold_action:
              action: none
            state_image:
              cool: /local/ui/ui_img/airflow1.gif
            style:
              left: 75%
              mix-blend-mode: lighten
              transform: rotate(270deg)
              top: 1.5%
              width: 9%
            tap_action:
              action: none
            type: image

            ############ BUTTONS ################

          - image: /local/ui/nix100100.png
            style:
              left: 69%
              top: 38%
              width: 5%
              --mdc-icon-size: 6vw
              opacity: 0%
            type: icon
            entity: camera.bram_cam2_hd_stream
            icon: mdi:cctv
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  size: wide
                  # autoclose: true
                  content:
                    type: "custom:webrtc-camera"

                    url: !secret webrtc_cam_bram
                    background: false # run stream when not displayed (ex. for quick video loading), default false

          # - type: 'custom:button-card'
          #   aspect_ratio: 1/1
          #   entity: camera.tom_cam_mainstream
          #   show_name: false
          #   show_icon: false
          #   color:  "rgba(0, 0 , 0 , 0)"
          #   color_type: card
          #   styles:
          #     card:
          #       - --mdc-ripple-press-opacity: 0

          - entity: light.baby_lightstrip
            image: /local/ui/rednix100100.png
            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.baby_lightstrip
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              --mdc-icon-size: 6vw
              left: 79%
              top: 60%
              opacity: 0%

          - type: "custom:button-card"
            aspect_ratio: 1/1
            entity: light.lichtbol_tom
            show_name: false
            show_icon: false
            color: "rgba(0, 0 , 0 , 0)"
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.lichtbol_tom
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            style:
              left: 69%
              top: 45%
              width: 5%
              opacity: 0%

          - entity: light.babylamp_1
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.babylamp_1
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 75%
              top: 47.5%
              opacity: 0%

            ######## Buttons badkamer  #######
          # - entity: switch.bk_spiegel

          #   image: /local/ui/ledniks_ver.png

          #   style:
          #     left: 50%
          #     top: 40%

          #     opacity: 0
          #   tap_action:
          #     action: toggle
          #   type: image

          - entity: switch.badkamer_switch_1
            image: /local/ui/nix100100.png
            style:
              opacity: 0
              left: 57%
              top: 41%
            tap_action:
              action: toggle
            type: image

          # ######## Buttons slaapkamer  #######
          - entity: light.bedlamp_bas
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.bedlamp_bas
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 32%
              top: 55%
              opacity: 0%
          - entity: light.bedlamp_shel
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.bedlamp_shel
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 45%
              top: 55%
              opacity: 0%
          - entity: light.slaapkamer_lamp
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.slaapkamer_lamp
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 39%
              top: 31%
              opacity: 0%

          - entity: light.gang_boven
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.gang_boven
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 59%
              top: 21%
              opacity: 0%

          - type: image
            image: /local/ui/nix100100.png

            style:
              left: 40%
              top: 16%
              opacity: 0
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  content:
                    type: custom:vertical-stack-in-card
                    # layout_type: vertical
                    # layout_options:

                    #   max_width: 0.9
                    #   max_cols: 3
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                        }
                    cards:
                      - type: "custom:mini-graph-card"
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                            }
                        unit: kg
                        icon: mdi:face-man-outline
                        group_by: date
                        animate: true
                        points_per_hour: 0.01
                        hours_to_show: 300
                        entities:
                          - sensor.gewicht_bas
                        show:
                          state: true
                          labels: true
                        color_thresholds:
                          - value: 78
                            color: "#f39c12"
                          - value: 82
                            color: "#d35400"
                          - value: 86
                            color: "#c0392b"
                      # - type: entities
                      #   card_mod:
                      #     style: |
                      #         ha-card {
                      #           --ha-card-background: black;
                      #         }
                      #   entities:
                      #     - type: custom:multiple-entity-row
                      #       styles:
                      #         width: 80px
                      #         text-align: left
                      #       show_state: false
                      #       name: Bas
                      #       entity: sensor.bas_weight
                      #       entities:
                      #         - attribute: bmi
                      #           name: bmi
                      #         - attribute: basal_metabolism
                      #           name: Metabolisme
                      #         - attribute: visceral_fat
                      #           name: Visceraal vet
                      - type: "custom:vertical-stack-in-card"
                        cards:
                          - type: "custom:mini-graph-card"
                            card_mod:
                              style: |
                                ha-card {
                                  --ha-card-background: black;
                                }
                            unit: kg
                            icon: mdi:face-woman-outline
                            group_by: date
                            animate: true
                            points_per_hour: 0.01
                            hours_to_show: 300
                            entities:
                              - sensor.gewicht_michelle
                            show:
                              state: true
                              labels: true
                            color_thresholds:
                              - value: 60
                                color: "#f39c12"
                              - value: 70
                                color: "#d35400"
                              - value: 80
                                color: "#c0392b"
                      - type: "custom:vertical-stack-in-card"
                        cards:
                          - type: "custom:mini-graph-card"
                            icon: mdi:baby-face
                            card_mod:
                              style: |
                                ha-card {
                                  --ha-card-background: black;
                                }
                            unit: kg
                            group_by: date
                            animate: true
                            points_per_hour: 0.01
                            hours_to_show: 300
                            entities:
                              - sensor.gewicht_tom
                            show:
                              state: true
                              labels: true
                            color_thresholds:
                              - value: 15
                                color: "#f39c12"
                              - value: 35
                                color: "#d35400"
                              - value: 40
                                color: "#c0392b"

          ############ Blokken ###################

          #### Lights ########

          - type: "custom:vertical-stack-in-card"
            style:
              width: 23.4%
              left: 13.4%
              top: 80%
            cards:
              - type: custom:slider-button-card
                entity: light.gang_boven
                slider:
                  direction: left-right
                  background: gradient
                  use_state_color: true
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                name: Gang
                show_state: false
                compact: true
                icon:
                  show: true
                  use_state_color: true
                  tap_action:
                    action: more-info
                  icon: mdi:lightbulb
                action_button:
                  mode: toggle
                  icon: mdi:power
                  show: false
                  show_spinner: false
                  tap_action:
                    action: toggle
                style:
                  left: 25%
                  top: 50%
                card_mod:
                  style: |
                    :host {
                      height: 3% !important;
                      width: 10% !important:
                    }
                    ha-card {
                      --ha-card-background: rgba(26, 26, 26, 1)!important;
                    }
              - type: custom:slider-button-card
                entity: light.studio
                slider:
                  direction: left-right
                  background: gradient
                  use_state_color: true
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                show_state: false
                compact: true
                icon:
                  show: true
                  use_state_color: true
                  tap_action:
                    action: more-info
                  icon: mdi:lightbulb
                action_button:
                  mode: toggle
                  icon: mdi:power
                  show: false
                  show_spinner: false
                  tap_action:
                    action: toggle
                style:
                  left: 25%
                  top: 50%
                card_mod:
                  style: |
                    :host {
                      height: 3% !important;
                      width: 10% !important:
                    }
                    ha-card {
                      --ha-card-background: rgba(26, 26, 26, 1)!important;
                    }

              - type: custom:slider-button-card
                entity: light.tom
                slider:
                  direction: left-right
                  background: gradient
                  use_state_color: true
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                name: Bram
                show_state: false
                compact: true
                icon:
                  show: true
                  use_state_color: true
                  tap_action:
                    action: more-info
                  icon: mdi:lightbulb
                action_button:
                  mode: toggle
                  icon: mdi:power
                  show: false
                  show_spinner: true
                  tap_action:
                    action: toggle
                style:
                  left: 25%
                  top: 50%
                card_mod:
                  style: |
                    :host {
                      background-color: rgba(0, 0, 0, 0)!important;
                      height: 3% !important;
                      width: 10% !important:
                    }
                    ha-card {
                      --ha-card-background: rgba(26, 26, 26, 1)!important;
                    }
              - type: custom:slider-button-card
                entity: light.slaapkamer
                slider:
                  direction: left-right
                  background: gradient
                  use_state_color: true
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                show_state: false
                compact: true
                icon:
                  show: true
                  use_state_color: true
                  tap_action:
                    action: more-info
                  icon: mdi:lightbulb
                action_button:
                  mode: toggle
                  icon: mdi:power
                  show: false
                  show_spinner: true
                  tap_action:
                    action: toggle
                style:
                  left: 25%
                  top: 50%
                card_mod:
                  style: |
                    :host {
                      background-color: rgba(0, 0, 0, 0)!important;
                      height: 3% !important;
                      width: 10% !important:
                    }
                    ha-card {
                      --ha-card-background: rgba(26, 26, 26, 1)!important;
                    }
              # - type: custom:slider-button-card
              #   entity: light.badkamer
              #   slider:
              #     direction: left-right
              #     background: gradient
              #     use_state_color: true
              #     use_percentage_bg_opacity: true
              #     show_track: false
              #     toggle_on_click: false
              #     force_square: false
              #   show_name: true
              #   show_state: false
              #   compact: true
              #   icon:
              #     show: true
              #     use_state_color: true
              #     tap_action:
              #       action: more-info
              #     icon: mdi:lightbulb
              #   action_button:
              #     mode: toggle
              #     icon: mdi:power
              #     show: false
              #     show_spinner: true
              #     tap_action:
              #       action: toggle
              #   style:
              #     left: 25%
              #     top: 50%
              #   card_mod:
              #     style: |
              #       :host {
              #         background-color: rgba(0, 0, 0, 0)!important;
              #         height: 3% !important;
              #         width: 10% !important:
              #       }
              #       ha-card {
              #         --ha-card-background: rgba(26, 26, 26, 1)!important;
              #       }
          - type: "custom:vertical-stack-in-card"
            style:
              width: 9%
              left: 7%
              top: 94%
            cards:
              - type: markdown
                content: Badkamer
          - type: "custom:vertical-stack-in-card"
            horizontal: true
            style:
              width: 15%
              left: 15%
              top: 94%
            cards:
              # - type: entities
              #   entities:
              #     - entity: switch.bk_spiegel
              #       icon: hue:ceiling-fugato-two
              #       name: ""
              - type: entities
                entities:
                  - entity: switch.badkamer_switch_1
                    icon: mdi:mirror-rectangle
                    name: ""

              # - type: custom:slider-button-card
              #   entity: light.gang_boven
              #   slider:
              #     direction: left-right
              #     background: gradient
              #     use_state_color: true
              #     use_percentage_bg_opacity: true
              #     show_track: true
              #     toggle_on_click: false
              #     force_square: false
              #   show_name: true
              #   show_state: false
              #   compact: true
              #   icon:
              #     show: true
              #     use_state_color: true
              #     tap_action:
              #       action: more-info
              #     icon: mdi:lightbulb
              #   action_button:
              #     mode: toggle
              #     icon: mdi:power
              #     show: false
              #     show_spinner: true
              #     tap_action:
              #       action: toggle
              #   style:
              #     left: 25%
              #     top: 50%
              #     border-radius: 3%
              #   card_mod:
              #     style: |
              #       :host {
              #         background-color: rgba(0, 0, 0, 0)!important;
              #         height: 3% !important;
              #         width: 10% !important:
              #       }
              #       ha-card {
              #         --ha-card-background: rgba(26, 26, 26, 1)!important;
              #       }

          ############ Outlook ###################

          - type: "custom:atomic-calendar-revive"
            showProgressBar: false
            refreshInterval: 600
            showCurrentEventLine: false
            showEventIcon: true
            dateSize: 100
            showLoader: false
            maxEventCount: 20
            eventCalNameSize: 100
            timeSize: 110
            eventTitleSize: 120
            descSize: 200
            showLocation: false
            entities:
              - entity: calendar.agenda_account5
                icon: mdi:human-male
                color: "#9a95ff"
              - entity: calendar.bas_en_shel_account5
                timeColor: yellow
                icon: mdi:human-male-female
              - entity: calendar.michelle_zuidema_account5
                icon: mdi:human-female
                color: "#ffc5f5"
            style:
              left: 37%
              top: 81%
              width: 22%
            card_mod:
              style: |
                ha-card {
                  overflow: hide;
                  max-height: 230px;
                  height: 15%;
                }

          ######## KLIMAAT ############

          - type: "custom:button-card"
            show_name: false
            entity: input_select.airco_selector_1fl
            color: var(--secondary-color)
            state:
              - operator: ==
                value: stats
                color: var(--primary-color)
            color_type: icon
            haptic: medium
            icon: mdi:chart-bell-curve-cumulative

            tap_action:
              action: call-service
              haptic: medium
              service: input_select.select_option
              service_data:
                entity_id: input_select.airco_selector_1fl
                option: stats
            style:
              left: 71%
              top: 64.5%
              width: 5%
          - type: conditional
            conditions:
              - entity: input_select.airco_selector_1fl
                state: "stats"
            elements:
              - type: "custom:apexcharts-card"
                style:
                  left: 62%
                  top: 83%
                  width: 20%
                graph_span: 12h
                header:
                  show: true
                  show_states: true
                  colorize_states: true

                apex_config:
                  chart:
                    height: 220
                  fill:
                    type: gradient
                  xaxis:
                    labels:
                      format: HH:mm
                      show: true
                      showAlways: true
                  stroke:
                    width: 4
                    curve: smooth
                  yaxis:
                    decimalsInFloat: 0
                    forceNiceScale: false
                  legend:
                    show: false
                  dataLabels:
                    enabled: true
                series:
                  - color: "#368ed1"
                    entity: climate.studio
                    attribute: current_temperature
                    name: Studio
                    unit: °C
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now
                  - color: "#8c8c8c"
                    entity: climate.airco_slaapkamer
                    attribute: current_temperature
                    unit: °C
                    name: Slaapk
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now
                  - color: "#ff9000"
                    entity: climate.bram
                    attribute: current_temperature
                    name: Bram
                    unit: °C
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now
                  - color: white
                    entity: climate.zolderkamer_tom
                    attribute: current_temperature
                    name: Tom
                    unit: °C
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now
              ######### Bram ###########

          - type: conditional
            conditions:
              - entity: input_select.airco_selector_1fl
                state: "bram"
            elements:
              - type: "custom:simple-thermostat"
                style:
                  left: 62%
                  top: 83%
                  width: 20%
                # step_layout: row
                show_header: true
                entity: climate.bram
                step_size: 1
                control:
                  _headings: false
                  hvac:
                    heat_cool: false
                    dry: true
                  fan: true
                hide:
                  heat_cool: true
                name: Kamer Bram
                card_mod:
                  style: |
                    ha-card {
                      --st-font-size-xl: 1.3vw;
                      --st-font-size-m: 1.3vw;
                      --st-font-size-title: 1vw;
                      --st-spacing: 2px;
                    }
                layout:
                  mode:
                    headings: false
                    names: true
                    icons: true
              ######### Slaapkamer ###########
          - type: conditional
            conditions:
              - entity: input_select.airco_selector_1fl
                state: "slaapkamer"
            elements:
              - type: "custom:simple-thermostat"
                step_size: 1
                style:
                  left: 62%
                  top: 83%
                  width: 20%
                step_layout: row
                show_header: true
                entity: climate.slaapkamer
                control:
                  _headings: false
                  hvac:
                    heat_cool: false
                    dry: false
                  fan: true
                hide:
                  heat_cool: true
                name: Slaapkamer
                card_mod:
                  style: |
                    ha-card {
                      --st-font-size-xl: 1.3vw;
                      --st-font-size-m: 1.3vw;
                      --st-font-size-title: 1vw;
                      --st-spacing: 2px;
                    }
                layout:
                  mode:
                    headings: false
                    names: true
                    icons: true

              ######### studio ###########
          - type: conditional
            conditions:
              - entity: input_select.airco_selector_1fl
                state: "studio"
            elements:
              - type: "custom:simple-thermostat"
                style:
                  left: 62%
                  top: 83%
                  width: 20%
                # step_layout: row
                show_header: true
                entity: climate.studio
                step_size: 1
                control:
                  _headings: false
                  hvac:
                    heat_cool: false
                    dry: false
                  fan: true
                hide:
                  heat_cool: true
                name: Studio
                card_mod:
                  style: |
                    ha-card {
                      --st-font-size-xl: 1.3vw;
                      --st-font-size-m: 1.3vw;
                      --st-font-size-title: 1vw;
                      --st-spacing: 2px;
                    }
                layout:
                  mode:
                    headings: false
                    names: true
                    icons: true

          ##### Babyfoon ######
          - type: conditional
            conditions:
              - entity: binary_sensor.ffmpeg_baby_noise_bram
                state: "on"
              - entity: input_boolean.babymonitor_2
                state: "on"
            elements:
              - type: "custom:button-card"
                icon: mdi:emoticon-cry-outline
                color_type: card
                color: "rgba(0, 0, 0, 0)"
                style:
                  left: 94%
                  text-align: left
                  top: 65%
                styles:
                  name:
                    - color: white
                    - font-size: 18px
                  card:
                    - animation: blink 2s ease infinite
          - type: conditional
            conditions:
              - entity: binary_sensor.ffmpeg_baby_noise_bram
                state: "off"
              - entity: input_boolean.babymonitor_2
                state: "on"
            elements:
              - type: "custom:button-card"
                icon: mdi:emoticon-happy-outline
                color_type: card
                color: "rgba(0, 0, 0, 0)"
                style:
                  left: 94%
                  text-align: left
                  top: 65%
                styles:
                  icon:
                    - color: green
                    - font-size: 18px

          # - type: conditional
          #   conditions:
          #     - entity: binary_sensor.ffmpeg_baby_noise_bram
          #       state: "unavailable"
          #     # - entity: input_boolean.babymonitor_2
          #     #   state: "on"
          #   elements:
          #     - type: "custom:button-card"
          #       icon: mdi:robot-confused-outline
          #       color_type: card
          #       color: "rgba(0, 0, 0, 0)"
          #       style:
          #         left: 94%
          #         text-align: left
          #         top: 65%
          #       styles:
          #         icon:
          #           - color: yellow
          #           - font-size: 18px
          #         card:
          #           - animation: blink 2s ease infinite
          - type: custom:button-card
            tap_action:
              action: toggle
            entity: input_boolean.babymonitor_2
            state:
              - value: "off"
                color: grey
            show_name: false
            color: white
            icon: "mdi:baby"
            show_state: true
            hold_action:
              action: none
            style:
              width: 22%
              left: 86.5%
              top: 75%

          - type: custom:apexcharts-card
            update_interval: 1m
            apex_config:
              grid:
                show: false
              yaxis:
                # title:
                #   text: Temperature °C
                show: true
                showAlways: true
                showForNullSeries: true
                opposite: false
                reversed: false
                logarithmic: false
                tickAmount: 1
                forceNiceScale: false
                floating: false
                decimalsInFloat: 0
              chart:
                height: 150
                # zoom:
                #   type: y
                #   enabled: true
                #   autoScaleXaxis: false
              dataLabels:
                enabled: true
                dropShadow:
                  enabled: true
            # y_axis_precision: 0
            graph_span: 2h
            all_series_config:
              show:
                legend_value: false
              stroke_width: 1
              curve: stepline
            update_delay: 3s

            series:
              - entity: binary_sensor.ffmpeg_baby_noise_bram
                # - entity: binary_sensor.tuin_sensor_motion
                transform: "return x === 'on' ? 1 : 0;"
                fill_raw: last
                name: geluid
                group_by:
                  duration: 1m
                  func: avg

            style:
              width: 20%
              left: 86.5%
              top: 89.0%

          - type: conditional
            conditions:
              - entity: input_boolean.baby_monitor_bram_viewer
                state: "on"
            elements:
              - type: image
                entity: input_boolean.baby_monitor_bram_viewer
                tap_action:
                  action: call-service
                  service: input_boolean.toggle
                  service_data:
                    entity_id: input_boolean.baby_monitor_bram_viewer

                image: /local/ui/transparant_background.png
                style:
                  height: 100%
                  left: 50%
                  top: 50%
                  width: 100%
                  opacity: 0%

              - type: "custom:webrtc-camera"

                url: !secret cam_bram
                background: false # run stream when not displayed (ex. for quick video loading), default false
                muted: true
                style:
                  left: 50%
                  top: 50%
                  width: 60%
          ########### NAVIGATIE ####################

          ################# naar buiten #########################
          - type: image
            image: /local/ui/ledniks_ver.png
            style:
              left: 10%
              top: 35%
              width: 20%
              height: 60%
              opacity: 0

              # background-color: "rgba(0, 0 , 0 , 0)"
            tap_action:
              action: navigate
              navigation_path: /lovelace/1
          ################# naar zolder #########################
          - type: image
            image: /local/ui/nix.png
            style:
              left: 60%
              top: 5%
              width: 20%
              height: 25%
              opacity: 0

              # background-color: "rgba(0, 0 , 0 , 0)"
            tap_action:
              action: navigate
              navigation_path: /lovelace/4
          ################# naar beneden #########################
          - type: image
            image: /local/ui/nix100100.png
            style:
              left: 54%
              top: 20%
              width: 6%
              opacity: 0%

              # background-color: "rgba(0, 0 , 0 , 0)"
            tap_action:
              action: navigate
              navigation_path: /lovelace/0
          ################# naar studio #########################
          - type: image
            image: /local/ui/nix.png
            style:
              left: 80%
              top: 18%
              width: 18%
              height: 18%
              opacity: 0

              # background-color: "rgba(0, 0 , 0 , 0)"
            tap_action:
              action: navigate
              navigation_path: /lovelace/3
          ######## Buttons airco  #######

          ### slaapkamer Airco ####

          - entity: input_select.airco_selector_1fl
            tap_action:
              action: call-service
              service: input_select.select_option
              haptic: medium
              service_data:
                entity_id: input_select.airco_selector_1fl
                option: slaapkamer
            image: /local/ui/nix100100.png

            style:
              left: 32%
              top: 6%
              width: 7%
              height: 4%
              opacity: 0
            type: image

          ### Studio Airco ####

          - entity: input_select.airco_selector_1fl
            tap_action:
              action: call-service
              service: input_select.select_option
              haptic: medium
              service_data:
                entity_id: input_select.airco_selector_1fl
                option: studio
            image: /local/ui/nix100100.png

            style:
              left: 73%
              top: 10%
              width: 6%
              height: 8%
              opacity: 0
            type: image

          ### Tom Airco ####
          - entity: input_select.airco_selector_1fl
            tap_action:
              action: call-service
              service: input_select.select_option
              haptic: medium
              service_data:
                entity_id: input_select.airco_selector_1fl
                option: bram
            image: /local/ui/nix100100.png
            style:
              left: 88%
              top: 30%
              width: 7%
              height: 5%
              opacity: 0
            type: image

            ############## POPUPS ################
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state_not: none
            elements:
              - type: image
                entity: input_text.lamptoggle
                tap_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle
                hold_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle
                image: /local/ui/transparant_background.png
                style:
                  height: 100%
                  left: 50%
                  top: 50%
                  width: 100%
                  opacity: 0%

          - type: conditional #slaapkamer_lamp
            conditions:
              - entity: input_text.lamptoggle
                state: light.slaapkamer_lamp
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 50%
                  top: 50%
                  width: 18%
                cards:
                  - type: custom:slider-button-card
                    entity: light.slaapkamer_lamp
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: false
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    name: Slaapkamerlamp
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: medium
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: mdi:format-color-fill
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    entity: light.slaapkamer_lamp
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)

                      height: 250px
          - type: conditional #lichtbol_tom
            conditions:
              - entity: input_text.lamptoggle
                state: light.lichtbol_tom

            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 68%
                  top: 40%
                  width: 18%
                  border-radius: 13px
                cards:
                  - type: custom:slider-button-card
                    entity: light.lichtbol_tom
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: false
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    name: Lichtbol
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: medium
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:iris
                      action_button:
                        show: true
                        icon: mdi:power-standby
                        tap_action:
                          action: call-service
                          service: script.toggle_light_off
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    entity: light.lichtbol_tom
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)

          - type: conditional #baby_lightstrip
            conditions:
              - entity: input_text.lamptoggle
                state: light.baby_lightstrip
              - entity: light.baby_lightstrip
                state: "on"
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 78%
                  top: 55%
                  width: 18%
                  border-radius: 13px
                cards:
                  - type: custom:slider-button-card
                    entity: light.baby_lightstrip
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: false
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    name: Lightstrip Tom
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: medium
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:lightstrip
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    entity: light.baby_lightstrip
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)

          - type: conditional #babylamp_1
            conditions:
              - entity: input_text.lamptoggle
                state: light.babylamp_1
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 77%
                  top: 40%
                  width: 18%
                  border-radius: 13px
                cards:
                  - type: custom:slider-button-card
                    entity: light.babylamp_1
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: false
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    name: Plafondlamp Tom
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: medium
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: mdi:format-color-fill
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    entity: light.babylamp_1
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)

          - type: conditional #bedlamp_bas
            conditions:
              - entity: input_text.lamptoggle
                state: light.bedlamp_bas

            elements:
              - type: custom:slider-button-card
                entity: light.bedlamp_bas
                slider:
                  direction: left-right
                  background: gradient

                  use_state_color: false
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                name: Bedlamp Bas
                show_state: false
                compact: true
                icon:
                  show: true
                  icon: mdi:power-standby
                  tap_action:
                    action: toggle
                action_button:
                  show: true
                  icon: mdi:power-standby
                  tap_action:
                    action: call-service
                    service: script.toggle_light_off
                style:
                  left: 32%
                  top: 50%
                  width: 18%
                  border-radius: 13px
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: black;
                      box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                      border-radius: 25px !important;
                    }
          - type: conditional #bedlamp_shel
            conditions:
              - entity: input_text.lamptoggle
                state: light.bedlamp_shel
            elements:
              - type: custom:slider-button-card
                entity: light.bedlamp_shel
                slider:
                  direction: left-right
                  background: gradient

                  use_state_color: false
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                name: Bedlamp Shel
                show_state: false
                compact: true
                icon:
                  show: true
                  icon: mdi:power-standby
                  tap_action:
                    action: toggle
                action_button:
                  show: true
                  icon: mdi:power-standby
                  tap_action:
                    action: call-service
                    service: script.toggle_light_off
                style:
                  left: 46%
                  top: 50%
                  width: 18%
                  border-radius: 13px
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: black;
                      box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                      border-radius: 25px !important;
                    }
          - type: conditional #gang
            conditions:
              - entity: input_text.lamptoggle
                state: light.gang_boven
            elements:
              - type: custom:slider-button-card
                entity: light.gang_boven
                slider:
                  direction: left-right
                  background: gradient

                  use_state_color: false
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                name: Ganglamp boven
                show_state: false
                compact: true
                icon:
                  show: true
                  icon: mdi:power-standby
                  tap_action:
                    action: toggle
                action_button:
                  show: true
                  icon: mdi:power-standby
                  tap_action:
                    action: call-service
                    service: script.toggle_light_off
                style:
                  left: 58%
                  top: 23%
                  width: 18%
                  border-radius: 13px
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: black;
                      box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                      border-radius: 25px !important;
                    }
  #############################################################################################################################################
  #                                                                                                                                           #
  #                                                               Studio                                                                      #
  #                                                                                                                                           #
  #############################################################################################################################################
  # - type: picture-elements
  #   image: /local/ui/transparant_background.png
  #   elements:
  # - type: 'custom:auto-reload-card'
  #   delay_in_minute: 5
  # - type: custom:config-template-card
  #   style:
  #     left: 50%
  #     top: 50%
  #     width: 100%
  #   entities:
  #     - input_select.studio_scene_selector
  #     - light.studio_bloom
  #     - light.studio_go_rechts
  #     - light.studio_go_links
  #     - light.studio_play_keyboard
  #     - light.ventilator_studio2
  #     - light.studio_lightstrip
  #     - light.studio_lightstrip_2
  #     - input_boolean.test
  #     - input_boolean.test2
  #     - light.studio
  #     - climate.studio
  #     - input_boolean.studio_toon_airco
  #     - input_select.studio_scene_selector
  #     - input_boolean.studio_aircopauze
  #     - media_player.lg_tv
  #   card:
  - title: STUDIO
    icon: "mdi:music"
    panel: true
    theme: "Custom Dark"
    cards:
      - type: picture-elements
        image: /local/ui/transparant_background.png
        style:
          height: 100%
          left: 50%
          top: 50%
          width: 100%
        elements:
          - action: none
            entity: sun.sun
            hold_action:
              action: none
            image:
            state_image:
              # above_horizon: /local/ui/floorplan/studio/studio_day.jpg
              # below_horizon: /local/ui/floorplan/studio/studio_night.jpg
              above_horizon: /local/ui/floorplan/studio/studio_day.jpg
              below_horizon: /local/ui/floorplan/studio/studio_day.jpg
            style:
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image
          - action: none
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/studio/studio_tv.jpg?v=1
              "off": /local/transparent.png
            entity: media_player.lg_webos_smart_tv
            style:
              left: 50%
              mix-blend-mode: screen
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image

          - action: none
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/studio/studio_tv.jpg
              "off": /local/transparent.png
            entity: media_player.lg_tv
            style:
              left: 50%
              mix-blend-mode: screen
              top: 50%
              width: 100%
            tap_action:
              action: none
            type: image

          # - action: none
          #   hold_action:
          #     action: none
          #   state_image:
          #     "on": /local/ui/floorplan/studio/studio_pc.jpg
          #     "off": /local/transparent.png
          #   entity: switch.pc_bas
          #   style:
          #     left: 50%
          #     mix-blend-mode: screen
          #     top: 50%
          #     width: 100%
          #   tap_action:
          #     action: none
          #   type: image

          - action: none
            hold_action:
              action: none
            state_image:
              "on": /local/ui/floorplan/studio/studio_pc.jpg
              "off": /local/transparent.png
            entity: input_boolean.test
            style:
              left: 50%
              mix-blend-mode: screen
              top: 50%
              width: 100%
            tap_action:
              action: none
            type:
              image
              ########################    lights #######
          - type: custom:config-template-card
            entities:
              - light.razer_lights
            variables:
              - states['light.razer_lights'].state
              - states['light.razer_lights'].attributes.brightness
              - states['light.razer_lights'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.razer_lights
              hold_action:
                action: none
              image: /local/ui/floorplan/studio/studio_pc1.png
              tap_action:
                action: none
              type: image
          # - type: custom:config-template-card
          #   entities:
          #     - light.studio_go_rechts
          #   variables:
          #     - states['light.studio_go_rechts'].state
          #     - states['light.studio_go_rechts'].attributes.brightness
          #     - states['light.studio_go_rechts'].attributes.hs_color
          #   style:
          #     filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
          #     mix-blend-mode: screen
          #     opacity: '${vars[0] === ''on'' ? (vars[1] / 255) : ''0''}'
          #     top: 50%
          #     left: 50%
          #     width: 100%
          #   element:
          #     action: none
          #     entity: light.studio_go_rechts
          #     hold_action:
          #       action: none
          #     image: /local/ui/floorplan/studio/studio_hue_go_rechts.jpg
          #     tap_action:
          #       action: none
          #     type: image
          - type: custom:config-template-card
            entities:
              - light.studio_go_links
            variables:
              - states['light.studio_go_links'].state
              - states['light.studio_go_links'].attributes.brightness
              - states['light.studio_go_links'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.studio_go_links
              hold_action:
                action: none
              image: /local/ui/floorplan/studio/studio_hue_go_links.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.studio_play_keyboard
            variables:
              - states['light.studio_play_keyboard'].state
              - states['light.studio_play_keyboard'].attributes.brightness
              - states['light.studio_play_keyboard'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.studio_play_keyboard
              hold_action:
                action: none
              image: /local/ui/floorplan/studio/studio_hue_play.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.studio_lightstrip_2
            variables:
              - states['light.studio_lightstrip_2'].state
              - states['light.studio_lightstrip_2'].attributes.brightness
              - states['light.studio_lightstrip_2'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.studio_lightstrip_2
              hold_action:
                action: none
              image: /local/ui/floorplan/studio/studio_ambilight.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.studio_lightstrip_2
            variables:
              - states['light.studio_lightstrip'].state
              - states['light.studio_lightstrip'].attributes.brightness
              - states['light.studio_lightstrip'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.studio_lightstrip
              hold_action:
                action: none
              image: /local/ui/floorplan/studio/studio_ledstrip.jpg

              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.ventilator_studio2
            variables:
              - states['light.ventilator_studio2'].state
              - states['light.ventilator_studio2'].attributes.brightness
              - states['light.ventilator_studio2'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              top: 50%
              left: 50%
              width: 100%
            element:
              action: none
              entity: light.ventilator_studio2
              hold_action:
                action: none
              image: /local/ui/floorplan/studio/studio_fan.jpg

              tap_action:
                action: none
              type: image

          ######## ICONS ################

          - entity: light.studio_go_rechts
            image: /local/ui/nix100100.png

            style:
              left: 78%
              top: 40%
            tap_action:
              action: toggle
            type: image

          # - entity: switch.pc_bas
          #   icon: /local/ui/nix100100.png
          #   style:
          #     left: 77%
          #     top: 55%
          #     width: 10%
          #   hold_action:
          #     action: none
          - type: "custom:button-card"
            triggers_update:
              - input_boolean.test
            entity: input_boolean.test
            aspect_ratio: 1/1.6
            show_name: false
            show_icon: false
            color: "rgba(0, 0 , 0 , 0)"
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            tap_action:
              action: toggle
            style:
              left: 77%
              top: 55%
              width: 10%
          - type: "custom:button-card"
            triggers_update:
              - input_boolean.test2
            aspect_ratio: 1/0.4
            entity: input_boolean.test2
            show_name: false
            show_icon: false
            color: "rgba(0, 0 , 0 , 0)"
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            tap_action:
              action: toggle
              service: switch.toggle
              haptic: success
            style:
              left: 61%
              top: 30%
              width: 22%
              # height: 14%

          # - type: 'custom:button-card'
          #   triggers_update:
          #     - media_player.lg_tv
          #   aspect_ratio: 1/0.4
          #   entity: media_player.lg_tv
          #   show_name: false
          #   show_icon: false
          #   color:  "rgba(0, 0 , 0 , 0)"
          #   color_type: card
          #   styles:
          #     card:
          #       - --mdc-ripple-press-opacity: 0
          #   tap_action:
          #     action: toggle
          #     service: switch.toggle
          #     haptic: success
          #   style:
          #     left: 61%
          #     top: 30%
          #     width: 22%
          #     # height: 14%

          - type: "custom:button-card"
            aspect_ratio: 0.4/1
            entity: input_boolean.studio_toon_airco
            show_name: false
            show_icon: false
            color: "rgba(0, 0 , 0 , 0)"
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            tap_action:
              action: toggle
              service: switch.toggle
              haptic: success
            style:
              left: 38%
              top: 18%
              width: 10%
              height: 15%
              opacity: 0%

          - type: image
            image: /local/ui/ui_img/mail_title.png
            style:
              left: 14%
              top: 6%
              width: 22%

          ################## MAIL ####################

          - type: conditional
            conditions:
              - entity: sensor.postvak_in
                state_not: "0"
            elements:
              - type: custom:list-card
                style:
                  left: 15%
                  top: 23%
                  width: 26%
                  height: 30%
                row_limit: 4
                entity: sensor.postvak_in
                feed_attribute: data
                columns:
                  - title: Ongelezen mails
                    field: subject
                  - title: Van
                    field: sender
                card_mod:
                  style: |
                    td:first-child {
                      padding-left: 10px;
                      padding-top: 10px;
                      display: block;
                      background-color: rgba(42, 46, 48, 0)!important;
                    }
                    td:nth-of-type(2) {
                      padding-left: 10px;
                      opacity: 0.7;
                      display: block;
                      background-color: rgba(0, 0, 0, 0.5)!important;
                    }
                    td:last-child {
                      min-height: 15px;
                      display: block;
                    }
                    tr {
                      display: block;
                    }
                    th {
                      display: none;
                    }
                    p {
                      margin: 10px;
                    }
          - type: conditional
            conditions:
              - entity: sensor.postvak_in
                state: "0"
            elements:
              - type: "custom:atomic-calendar-revive"
                showProgressBar: false
                showCurrentEventLine: false
                maxDaysToShow: 15
                dateSize: 100
                showLoader: false
                maxEventCount: 4
                eventCalNameSize: 100
                timeSize: 100
                eventTitleSize: 100
                descSize: 200
                showLocation: false
                entities:
                  - calendar.agenda_account5
                style:
                  left: 16%
                  top: 22%
                  width: 26%
                  height: 30%
          ################## AIRCO ####################

          - type: conditional
            conditions:
              - entity: input_boolean.studio_toon_airco
                state: "on"
            elements:
              - type: "custom:simple-thermostat"
                step_size: 1
                show_header: false
                entity: climate.studio
                sensors:
                  - entity: sensor.hue_motion_sensor_1_temperature
                    name: hue sensor
                control:
                  _headings: false
                  hvac:
                    heat_cool: false
                    dry: true
                  fan: true
                hide:
                  heat_cool: true
                  # temperature: true
                step_layout: row
                name: Studio
                card_mod:
                  style: |
                    ha-card {
                      --st-font-size-xl: 1.3vw;
                      --st-font-size-m: 1.3vw;
                      --st-font-size-title: 1vw;
                      --st-spacing: 2px;
                      }
                layout:
                  step: row
                  mode:
                    headings: false
                    names: true
                    icons: true
                style:
                  left: 16%
                  top: 52%
                  width: 24%

          - type: conditional
            conditions:
              - entity: input_boolean.studio_toon_airco
                state: "off"
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 15%
                  top: 52%
                  width: 25%
                cards:
                  # - type: entities
                  #   entities:
                  #     - entity: switch.pc_bas
                  #       name: PC
                  #     # - entity: media_player.lg_tv
                  #     #   name: TV
                  #     - entity: input_boolean.studio_motion_pauze
                  #       name: Motion Pauze

                  - type: "custom:mini-graph-card"
                    name: CO2 WAARDE
                    entities:
                      - sensor.mh_z19_co2_value
                    show:
                      state: true
                      labels: true
                      name: true
                    color_thresholds:
                      - value: 15
                        color: "#2376c4"
                      - value: 20
                        color: "#d35400"
                      - value: 25
                        color: "#ff2a00"

          ################ Lightscenes ################

          - type: conditional
            conditions:
              - entity: input_select.studio_lightpicker
                state: sliders

            elements:
              - type: custom:vertical-stack-in-card
                horizontal: true
                style:
                  left: 15%
                  top: 85%
                  width: 25%
                  height: 18%
                cards:
                  - type: custom:vertical-stack-in-card
                    cards:
                      - type: custom:slider-button-card
                        entity: light.razer_lights
                        slider:
                          direction: left-right
                          background: gradient
                          use_state_color: true
                          use_percentage_bg_opacity: false
                          show_track: true
                          toggle_on_click: false
                          force_square: false
                        show_name: true
                        name: Razer
                        show_state: false
                        compact: true
                        icon:
                          show: true
                          haptic: medium
                          use_state_color: true
                          tap_action:
                            action: more-info
                          icon: mdi:fan
                        action_button:
                          show: false
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                              margin: 7%;
                            }

                      - type: custom:slider-button-card
                        entity: light.studio_go_links
                        slider:
                          direction: left-right
                          background: gradient
                          use_state_color: true
                          use_percentage_bg_opacity: false
                          show_track: true
                          toggle_on_click: false
                          force_square: false
                        show_name: true
                        name: Hue Go (L)
                        show_state: false
                        compact: true
                        icon:
                          show: true
                          haptic: medium
                          use_state_color: true
                          tap_action:
                            action: more-info

                          icon: hue:go
                        action_button:
                          show: false
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                              margin: 7%;
                            }
                      - type: custom:slider-button-card
                        entity: light.studio_play_keyboard
                        slider:
                          direction: left-right
                          background: gradient
                          use_state_color: true
                          use_percentage_bg_opacity: false
                          show_track: true
                          toggle_on_click: false
                          force_square: false
                        show_name: true
                        name: HuePlay Keyboard
                        show_state: false
                        compact: true
                        icon:
                          show: true
                          haptic: medium
                          use_state_color: true
                          tap_action:
                            action: more-info
                          icon: hue:play-bar
                        action_button:
                          show: false
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                              margin: 7%;
                            }

                  - type: custom:vertical-stack-in-card
                    cards:
                      - type: custom:slider-button-card
                        entity: light.studio_lightstrip_2
                        slider:
                          direction: left-right
                          background: gradient
                          use_state_color: true
                          use_percentage_bg_opacity: false
                          show_track: true
                          toggle_on_click: false
                          force_square: false
                        show_name: true
                        name: LG Ambilight
                        show_state: false
                        compact: true
                        icon:
                          show: true
                          haptic: medium
                          use_state_color: true
                          tap_action:
                            action: more-info
                          icon: hue:gradient-lightstrip
                        action_button:
                          show: false
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                              margin: 7%;
                            }
                      - type: custom:slider-button-card
                        entity: light.studio_go_rechts
                        slider:
                          direction: left-right
                          background: gradient
                          use_state_color: true
                          use_percentage_bg_opacity: false
                          show_track: true
                          toggle_on_click: false
                          force_square: false
                        show_name: true
                        name: Hue Go (R)
                        show_state: false
                        compact: true
                        icon:
                          show: true
                          haptic: medium
                          use_state_color: true
                          tap_action:
                            action: more-info
                          icon: hue:bloom
                        action_button:
                          show: false
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                              margin: 7%;
                            }

                      - type: custom:slider-button-card
                        entity: light.studio_lightstrip
                        slider:
                          direction: left-right
                          background: gradient
                          use_state_color: true
                          use_percentage_bg_opacity: false
                          show_track: true
                          toggle_on_click: false
                          force_square: false
                        show_name: true
                        name: Bureauled
                        show_state: false
                        compact: true
                        icon:
                          show: true
                          haptic: medium
                          use_state_color: true
                          tap_action:
                            action: more-info
                          icon: hue:lightstrip
                        action_button:
                          show: false
                        card_mod:
                          style: |
                            ha-card {
                              --ha-card-background: black;
                              box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                              margin: 7%;
                            }
          - type: conditional
            conditions:
              - entity: input_select.studio_lightpicker
                state: scenes
            elements:
              - type: custom:button-card
                entity: input_select.studio_scene_selector
                show_state: false
                state_filter:
                  "scuba": drop-shadow(8px 8px 10px green)
                show_name: false

                styles:
                  entity_picture:
                    - width: 100%

                tap_action:
                  action: call-service
                  service: input_select.select_option
                  haptic: medium
                  service_data:
                    entity_id: input_select.studio_scene_selector
                    option: scuba
                show_entity_picture: true
                entity_picture: /local/ui/scene_images/scuba.png
                style:
                  left: 7%
                  top: 80%
                  width: 6%

              - type: custom:button-card
                entity: input_select.studio_scene_selector
                show_state: false
                show_name: false

                styles:
                  entity_picture:
                    - width: 100%

                tap_action:
                  action: call-service
                  service: scene.turn_on
                  haptic: medium
                  service_data:
                    entity_id: scene.studio_sfeer_3
                show_entity_picture: true
                entity_picture: /local/ui/scene_images/sfeer.png
                style:
                  left: 15%
                  top: 80%
                  width: 6%

              - type: custom:button-card
                entity: input_select.studio_scene_selector
                show_state: false
                show_name: false

                styles:
                  entity_picture:
                    - width: 100%

                tap_action:
                  action: call-service
                  service: scene.turn_on
                  haptic: medium
                  service_data:
                    entity_id: scene.studio_heldertje
                show_entity_picture: true
                entity_picture: /local/ui/scene_images/helder_sq.png
                style:
                  left: 23%
                  top: 80%
                  width: 6%

              - type: custom:button-card
                entity: input_select.studio_scene_selector
                show_state: false
                show_name: false

                styles:
                  entity_picture:
                    - width: 100%

                tap_action:
                  action: call-service
                  service: scene.turn_on
                  haptic: medium
                  service_data:
                    entity_id: scene.studio_ijskoud
                show_entity_picture: true
                entity_picture: /local/ui/scene_images/ijskoud.png
                style:
                  left: 7%
                  top: 92%
                  width: 6%

              - type: custom:button-card
                entity: input_select.studio_scene_selector
                show_state: false
                show_name: false

                styles:
                  entity_picture:
                    - width: 100%

                tap_action:
                  action: call-service
                  service: scene.turn_on
                  haptic: medium
                  service_data:
                    entity_id: scene.studio_soho
                show_entity_picture: true
                entity_picture: /local/ui/scene_images/disco.png
                style:
                  left: 15%
                  top: 92%
                  width: 6%

              - type: custom:button-card
                entity: light.studio
                show_state: false
                show_name: false
                styles:
                  entity_picture:
                    - width: 100%

                tap_action:
                  action: call-service
                  service: scene.turn_on
                  haptic: medium
                  service_data:
                    entity_id: scene.studio_uit
                show_entity_picture: true

                entity_picture: /local/ui/scene_images/alles_uit.png
                style:
                  left: 23%
                  top: 92%
                  width: 6%

          - type: "custom:button-card"
            show_name: false
            entity: input_select.studio_lightpicker
            color: var(--secondary-color)
            state:
              - operator: ==
                value: scenes
                color: var(--primary-color)
            color_type: icon
            haptic: medium
            icon: mdi:palette
            tap_action:
              action: call-service
              haptic: medium
              service: input_select.select_option
              service_data:
                entity_id: input_select.studio_lightpicker
                option: scenes

            style:
              left: 25%
              top: 71%
              width: 5%
          - type: "custom:button-card"
            show_name: false
            entity: input_select.studio_lightpicker
            color: var(--secondary-color)
            state:
              - operator: ==
                value: sliders
                color: var(--primary-color)
            color_type: icon
            haptic: medium
            icon: mdi:lightbulb-multiple
            tap_action:
              action: call-service
              haptic: medium
              service: input_select.select_option
              service_data:
                entity_id: input_select.studio_lightpicker
                option: sliders

            style:
              left: 21%
              top: 71%
              width: 5%

          ################# uit de studio #########################

          - type: "custom:button-card"
            aspect_ratio: 0.6/1
            show_name: false
            show_icon: false
            color: "rgba(0, 0 , 0 , 0)"
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            style:
              left: 37%
              top: 69%
              width: 16%
              height: 25%
              opacity: 0%

              # background-color: "rgba(0, 0 , 0 , 0)"
            tap_action:
              action: navigate
              navigation_path: /lovelace/2

            hold_action:
              action: none

          - type: conditional
            conditions:
              - entity: light.ventilator_studio2
                state: "on"
              - entity: sensor.state_lamp_change
                state: "light.ventilator_studio2"
              # - entity: input_boolean.lamp_popup
              #   state: "on"
            elements:
              - type: custom:vertical-stack-in-card
                horizontal: false
                style:
                  left: 75%
                  top: 46%
                  width: 20%
                  border-radius: 3%
                  background-color: "rgba(0, 0 , 0 , 0.8)"
                cards:
                  - type: custom:slider-button-card
                    entity: light.ventilator_studio2
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: false
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      use_state_color: true
                      tap_action:
                        action: more-info
                      icon: mdi:palette
                    action_button:
                      show: false

                    card_mod:
                      style: |
                        :host {
                          height: 4% !important;
                          overflow: hidden !important;
                          width: 14%;
                          box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.6)' !important;
                        }
                        ha-card {
                          --ha-card-background: black;
                          overflow: hidden !important;
                          box-shadow: '0px 1.2vw 1.8vw 0px rgba(0,0,0,0.6)' !important;
                          top: -10% !important;
                        }
                  # - type: 'custom:rgb-light-card'
                  #   entity: light.ventilator_studio2
                  #   colors:
                  #       # Any option of the light.turn_on service can be used in each color
                  #       - rgb_color:
                  #             - 255
                  #             - 60
                  #             - 0
                  #         transition: 0
                  #       - rgb_color:
                  #             - 255
                  #             - 199
                  #             - 3
                  #         transition: 0
                  #       # - rgb_color:
                  #       #       - 0
                  #       #       - 30
                  #       #       - 255
                  #       #   transition: 0
                  #       - rgb_color:
                  #             - 255
                  #             - 255
                  #             - 220
                  #         transition: 0
                  #       - rgb_color:
                  #             - 255
                  #             - 219
                  #             - 134
                  #         transition: 0
                  # - type: custom:vertical-stack-in-card
                  #   horizontal: true
                  #   cards:
                  #     - type: 'custom:button-card'
                  #       color_type: blank-card
                  #     - type: 'custom:button-card'
                  #       color_type: blank-card
                  #     - type: custom:button-card
                  #       icon: mdi:check-circle-outline
                  #       aspect_ratio: 4/2
                  #       color: var(--disabled-text-color)
                  #       styles:
                  #         card:

                  #         name:
                  #           - font-size: 12px
                  #         show_state: false
                  #         show_label: false
                  #         show_name: false

  #############################################################################################################################################
  #                                                                                                                                           #
  #                                                               Zolder                                                                      #
  #                                                                                                                                           #
  #############################################################################################################################################

  - title: Zolder
    icon: mdi:home-floor-2
    panel: true
    theme: "Custom Dark"
    cards:
      - type: picture-elements
        image: /local/ui/transparant_background.png
        style:
          height: 100%
          left: 50%
          top: 50%
          width: 100%
        elements:
          - action: none
            entity: input_select.weersituatie
            hold_action:
              action: none
            state_image:
              middag: /local/ui/floorplan/zolder/zolder_day.png?v=302
              begin_dag: /local/ui/floorplan/zolder/zolder_day.png?v=302
              einde_dag: /local/ui/floorplan/zolder/zolder_day.png?v=302
              nacht: /local/ui/floorplan/zolder/zolder_night.png?v=302
              natte_nacht: /local/ui/floorplan/zolder/zolder_night.png?v=302
              bewolkt: /local/ui/floorplan/zolder/zolder_day.png?v=302
              regen: /local/ui/floorplan/zolder/zolder_day.png?v=302

            style:
              height: 100%
              left: 50%
              top: 50%
              width: 100%
            tap_action:
              action: none
            type:
              image

              ########### LIGHTS ##########

            #### tom muurspot
          - type: custom:config-template-card
            entities:
              - light.hue_color_spot_1
            variables:
              - states['light.hue_color_spot_1'].state
              - states['light.hue_color_spot_1'].attributes.brightness
              - states['light.hue_color_spot_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_color_spot_1
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_tomspot_muur.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.hue_color_spot_1
            variables:
              - states['light.hue_color_spot_1'].state
              - states['light.hue_color_spot_1'].attributes.brightness
              - states['light.hue_color_spot_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              # opacity: '${vars[0] === ''on'' ? (vars[1] / 255) : ''0''}'
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_color_spot_1
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_tomspot_muur_aan.jpg
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.hue_centura_color_spot_1
            variables:
              - states['light.hue_centura_color_spot_1'].state
              - states['light.hue_centura_color_spot_1'].attributes.brightness
              - states['light.hue_centura_color_spot_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_centura_color_spot_1
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_tomspot_1.jpg
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.hue_centura_color_spot_1
            variables:
              - states['light.hue_centura_color_spot_1'].state
              - states['light.hue_centura_color_spot_1'].attributes.brightness
              - states['light.hue_centura_color_spot_1'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              # opacity: '${vars[0] === ''on'' ? (vars[1] / 255) : ''0''}'
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_centura_color_spot_1
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_tomspot_1_aan.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.hue_centura_color_spot_1_2
            variables:
              - states['light.hue_centura_color_spot_1_2'].state
              - states['light.hue_centura_color_spot_1_2'].attributes.brightness
              - states['light.hue_centura_color_spot_1_2'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 255) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_centura_color_spot_1_2
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_tomspot_2.jpg
              tap_action:
                action: none
              type: image

          - type: custom:config-template-card
            entities:
              - light.hue_centura_color_spot_1_2
            variables:
              - states['light.hue_centura_color_spot_1_2'].state
              - states['light.hue_centura_color_spot_1_2'].attributes.brightness
              - states['light.hue_centura_color_spot_1_2'].attributes.hs_color
            style:
              filter: '${ "hue-rotate(" + (vars[2]  ? vars[2] [0] : 0) + "deg) saturate(" + (vars[2]  ? vars[2] [1] : 100)+ "%)"}'
              mix-blend-mode: screen
              # opacity: '${vars[0] === ''on'' ? (vars[1] / 255) : ''0''}'
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.hue_centura_color_spot_1_2
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_tomspot_2_aan.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.zolder_overloopspots
            variables:
              - states['light.zolder_overloopspots'].state
              - states['light.zolder_overloopspots'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 150) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.zolder_overloopspots
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_overloopspots.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.zolder_overloopspots
            variables:
              - states['light.zolder_overloopspots'].state
              - states['light.zolder_overloopspots'].attributes.brightness
            style:
              mix-blend-mode: screen
              # opacity: '${vars[0] === ''on'' ? (vars[1] / 150) : ''0''}'
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.zolder_overloopspots
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_overloopspots_aan.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.dimmable_light_7
            variables:
              - states['light.dimmable_light_7'].state
              - states['light.dimmable_light_7'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 150) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.dimmable_light_7
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_logeerfilament.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.dimmable_light_7
            variables:
              - states['light.dimmable_light_7'].state
              - states['light.dimmable_light_7'].attributes.brightness
            style:
              mix-blend-mode: screen
              # opacity: '${vars[0] === ''on'' ? (vars[1] / 150) : ''0''}'
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.dimmable_light_7
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_logeerfilament_aan.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.zolderkamer_logeerspots
            variables:
              - states['light.zolderkamer_logeerspots'].state
              - states['light.zolderkamer_logeerspots'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 150) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.zolderkamer_logeerspots
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_logeerspots.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.zolderkamer_logeerspots
            variables:
              - states['light.zolderkamer_logeerspots'].state
              - states['light.zolderkamer_logeerspots'].attributes.brightness
            style:
              mix-blend-mode: screen
              # opacity: '${vars[0] === ''on'' ? (vars[1] / 150) : ''0''}'
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.zolderkamer_logeerspots
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_logeerspots_aan.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.color_temperature_light_6
            variables:
              - states['light.color_temperature_light_6'].state
              - states['light.color_temperature_light_6'].attributes.brightness
            style:
              mix-blend-mode: screen
              opacity: "${vars[0] === 'on' ? (vars[1] / 150) : '0'}"
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.color_temperature_light_6
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_overloop_filament.jpg
              tap_action:
                action: none
              type: image
          - type: custom:config-template-card
            entities:
              - light.color_temperature_light_6
            variables:
              - states['light.color_temperature_light_6'].state
            style:
              mix-blend-mode: screen
              left: 50%
              top: 50%
              width: 100%
            element:
              action: none
              entity: light.color_temperature_light_6
              image: /local/ui/nixx.png
              hold_action:
                action: none
              state_image:
                "on": /local/ui/floorplan/zolder/zolder_overloop_filament_aan.jpg
              tap_action:
                action: none
              type: image

          - entity: light.hue_color_spot_1
            icon: mdi:lamp

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.hue_color_spot_1
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: icon
            style:
              --mdc-icon-size: 6vw
              left: 37%
              top: 9%
              opacity: 0%
          ################# naar beneden #########################
          - type: image
            image: /local/ui/redniks.png
            background:
            style:
              left: 53%
              top: 22%
              width: 28%
              opacity: 0

            tap_action:
              action: navigate
              navigation_path: /lovelace/2

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state_not: none
            elements:
              - type: image
                entity: input_text.lamptoggle
                tap_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle
                hold_action:
                  action: call-service
                  service: input_text.set_value
                  service_data:
                    value: none
                  target:
                    entity_id: input_text.lamptoggle
                image: /local/ui/transparant_background.png
                style:
                  height: 100%
                  left: 50%
                  top: 50%
                  width: 100%
                  opacity: 0%
          ### logeerfilament #####
          - entity: light.dimmable_light_7
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.dimmable_light_7
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              # --mdc-icon-size: 6vw
              left: 63%
              top: 44%

          - entity: light.zolderkamer_logeerspots
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.zolderkamer_logeerspots
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              # --mdc-icon-size: 6vw
              left: 86%
              top: 42%
              width: 10%
          - entity: fan.open_duco
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: fan.open_duco
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: none
            type: icon
            icon: mdi-fan
            style:
              --mdc-icon-size: 6vw
              left: 64%
              top: 10%
              width: 8%
          - entity: light.zolder_overloopspots
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.zolder_overloopspots
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              # --mdc-icon-size: 6vw
              left: 83%
              top: 15%
              width: 10%
          - entity: light.color_temperature_light_6
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.color_temperature_light_6
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              # --mdc-icon-size: 6vw
              left: 53%
              top: 15%
              width: 6%
          - entity: light.hue_centura_color_spot_1
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.hue_centura_color_spot_1
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              # --mdc-icon-size: 6vw
              left: 47%
              top: 50%
              width: 6%
          - entity: light.hue_centura_color_spot_1_2
            image: /local/ui/nix100100.png

            tap_action:
              action: call-service
              service: input_text.set_value
              service_data:
                value: light.hue_centura_color_spot_1_2
              target:
                entity_id: input_text.lamptoggle
            hold_action:
              action: toggle
            type: image
            style:
              # --mdc-icon-size: 6vw
              left: 47%
              top: 41%
              width: 6%
          # - entity: light.zolderspot

          #   image: /local/ui/nix100100.png

          #   style:
          #     left: 44%
          #     top: 42.5%
          #     opacity: 0
          #   tap_action:
          #     action: toggle
          #   type: image
          # - entity: switch.ikea_stekker1

          #   image: /local/ui/ledniks.png
          #   style:
          #     left: 68%
          #     top: 12%
          #     width: 24%
          #     opacity: 0
          #   tap_action:
          #     action: toggle
          #   type: image
          - type: image
            image: /local/ui/nix100100.png
            style:
              left: 25%
              top: 62%
              width: 8%

            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  size: wide
                  content:
                    type: custom:vertical-stack-in-card

                    cards:
                      - type: "custom:webrtc-camera"
                        # entity: camera.tom_cam_hd_stream
                        url: !secret webrtc_cam_tom
                        background: false # run stream when not displayed (ex. for quick video loading), default false

                      # card_mod:
                      #   style: |
                      #     ha-card {
                      #       width: 90% ;
                      #     }
          # - entity: script.start_luchtventilatie

          #   image: /local/ui/nix100100.png

          #   style:
          #     left: 48%
          #     top: 25%
          #     width: 8%
          #     opacity: 0
          #   tap_action:
          #     action: call-service
          #     service: script.start_luchtventilatie
          #   type: image

          ####### Elektra #######
          - type: "custom:vertical-stack-in-card"
            style:
              left: 88%
              top: 71%
              width: 14%
            horizontal: true
            cards:
              - type: "custom:button-card"
                entity: input_select.electraview
                color: var(--disabled-text-color)
                icon: mdi:flash
                name: 6h
                styles:
                  card:

                  name:
                    - font-size: 12px
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: current
                    entity_id: input_select.electraview
                show_state: false
                show_label: false
                show_name: true
                state:
                  - value: "current"
                    color: var(--primary-color)
                    icon: mdi:flash
              - type: "custom:button-card"
                entity: input_select.electraview
                color: var(--disabled-text-color)
                icon: mdi:clock
                name: 24h
                styles:
                  card:

                  name:
                    - font-size: 12px
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: 24h
                    entity_id: input_select.electraview
                show_state: false
                show_label: false
                show_name: true
                state:
                  - value: "24h"
                    color: var(--primary-color)
                    icon: mdi:clock

              - type: "custom:button-card"
                entity: input_select.electraview
                color: var(--disabled-text-color)
                icon: mdi:calendar-clock
                name: 7d
                show_state: false
                show_label: false
                show_name: true
                styles:
                  card:
                  name:
                    - font-size: 12px
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  service_data:
                    option: dayview
                    entity_id: input_select.electraview
                state:
                  - value: "dayview"
                    color: var(--primary-color)
                    icon: mdi:calendar-clock

          - type: conditional
            conditions:
              - entity: input_select.electraview
                state: "current"
            elements:
              - type: "custom:apexcharts-card"
                style:
                  left: 73%
                  top: 84%
                  width: 40%
                card_mod:
                  style: |
                    ha-card {
                      font-size: 15px;
                    }        
                    span#state {
                      font-size: 1.2vw !important;
                      text-align: right;
                    }
                    div#state__name {
                      font-size: 1vw !important;
                    }
                    span#uom {
                      font-size: 14px !important;
                    }
                    div#apexcharts-legend {
                      font-size: 28px !important;
                    }
                graph_span: 6h
                # span:
                #   end: day
                header:
                  show: false
                  colorize_states: true
                  # style:
                  #   fontSize: 8px
                  # show_title: false
                  show_states: true

                apex_config:
                  stroke:
                    width: 1
                    curve: smooth
                  yaxis:
                    forceNiceScale: false
                    decimalsInFloat: 0
                    # min: 0
                    # max: 25
                  xaxis:
                    labels:
                      format: HH:mm

                      show: true
                      showAlways: true
                      style:
                        fontSize: 10px
                  chart:
                    height: 250

                  legend:
                    show: true

                  dataLabels:
                    enabled: true
                series:
                  - color: "#aea89c"
                    entity: sensor.p1_meter_3c39e7232f30_active_power
                    name: Totaal
                    type: area
                    group_by:
                      func: avg
                      duration: 10m
                    extend_to: now
                  - color: "#368ed1"
                    entity: sensor.huidig_verbruik_electra_bereken_zonnepanelen
                    name: Verbruik
                    type: area
                    group_by:
                      func: avg
                      duration: 10m
                    extend_to: now

                  - color: "#f2b236"
                    entity: sensor.huidige_energielevering
                    name: Levering
                    type: area
                    group_by:
                      func: avg
                      duration: 10m
                    extend_to: now

          - type: conditional
            conditions:
              - entity: input_select.electraview
                state: "24h"
            elements:
              - type: "custom:apexcharts-card"
                style:
                  left: 73%
                  top: 84%
                  width: 40%
                card_mod:
                  style: |
                    ha-card {
                      font-size: 15px;
                    }        
                    span#state {
                      font-size: 1.2vw !important;
                      text-align: right;
                    }
                    div#state__name {
                      font-size: 1vw !important;
                      
                    }

                    span#uom {
                      font-size: 14px !important;
                    }
                    div#apexcharts-legend {
                      font-size: 28px !important;
                    }
                graph_span: 24h
                # span:
                #   end: day
                header:
                  show: false
                  colorize_states: true
                  # style:
                  #   fontSize: 8px
                  # show_title: false
                  show_states: true

                apex_config:
                  stroke:
                    width: 1
                    curve: smooth
                  yaxis:
                    forceNiceScale: false
                    decimalsInFloat: 0
                    # min: 0
                    # max: 25
                  xaxis:
                    labels:
                      format: HH:mm

                      show: true
                      showAlways: true
                      style:
                        fontSize: 10px
                  chart:
                    height: 230
                    # state:
                    #   floating: false
                    #   align: right
                    #   style:
                    #     fontSize: 8px
                  legend:
                    show: true

                  dataLabels:
                    enabled: true
                series:
                  - color: "#aea89c"
                    entity: sensor.p1_meter_3c39e7232f30_active_power
                    name: Huidig
                    type: area
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now
                  - color: "#368ed1"
                    entity: sensor.huidig_verbruik_electra_bereken_zonnepanelen
                    name: Verbruik
                    type: area
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now

                  - color: "#f2b236"
                    entity: sensor.huidige_energielevering
                    name: Levering
                    type: area
                    group_by:
                      func: avg
                      duration: 30m
                    extend_to: now

                  # fill:
                  #   type: gradient
                  #   gradient:
                  #     shadeIntensity: 0.1
                  #     opacityFrom: 0.25
                  #     opacityTo: 1
                  #     inverseColors: true
                  #     stops:
                  #       - 0
                  #       - 90
                  #       - 100
          - type: conditional
            conditions:
              - entity: input_select.electraview
                state: "dayview"
            elements:
              - type: "custom:apexcharts-card"

                # style:
                style:
                  left: 73%
                  top: 84%
                  width: 40%
                graph_span: 7d
                span:
                  end: day

                  offset: -1s
                header:
                  show: false
                  title: Verbruik per dag
                apex_config:
                  xaxis:
                    labels:
                      format: dd-MM
                      show: true
                      showAlways: true

                  chart:
                    height: 250
                  legend:
                    show: true
                  # dataLabels:
                  #   enabled: true

                series:
                  - color: "#368ed1"
                    entity: sensor.daily_energy
                    name: Verbruik
                    type: column
                    group_by:
                      func: max
                      duration: 1d
                    extend_to: end
                  - color: "#f2b236"
                    entity: sensor.zonopbrengst_daily_kwh
                    name: Zon
                    type: column
                    group_by:
                      func: max
                      duration: 1d
                    extend_to: end

          ####### Airco ####
          - action: none
            image: /local/ui/nix100100.png
            entity: climate.zolderkamer_tom
            hold_action:
              action: none
            state_image:
              cool: /local/ui/ui_img/airflow1.gif
            style:
              left: 35%
              mix-blend-mode: lighten
              transform: rotate(180deg)
              top: 30%
              width: 9%
            tap_action:
              action: none
            type: image
          - type: "custom:simple-thermostat"
            style:
              left: 38%
              top: 80%
              width: 22%
            step_layout: row
            step_size: 1
            show_header: true
            entity: climate.zolderkamer_tom
            control:
              _headings: false
              hvac:
                heat_cool: false
                dry: true
              fan: true
            hide:
              heat_cool: true
            name: Kamer Tom
            card_mod:
              style: |
                ha-card {
                  --st-font-size-xl: 1.1vw;
                  --st-font-size-m: 1.1vw;
                  --st-font-size-title: 1vw;
                  --st-spacing: 2px;
                }
            layout:
              mode:
                headings: false
                names: true
                icons: true

          - type: conditional
            conditions:
              - entity: binary_sensor.tom_cam_noise
                state: "on"
            elements:
              - type: "custom:button-card"
                icon: "mdi:exclamation-thick"
                color_type: card
                color: "rgba(0, 0, 0, 0)"
                style:
                  left: 94%
                  text-align: left
                  top: 65%
                styles:
                  name:
                    - color: white
                    - font-size: 18px
                  card:
                    - animation: blink 2s ease infinite

          - type: custom:button-card
            tap_action:
              action: toggle
            entity: input_boolean.babymonitor
            state:
              - value: "off"
                color: grey
            show_name: false
            color: white
            icon: "mdi:baby"
            show_state: true
            hold_action:
              action: none
            style:
              left: 13%
              top: 75%
              width: 21%

          - type: custom:apexcharts-card
            update_interval: 1m
            apex_config:
              grid:
                show: false
              yaxis:
                # title:
                #   text: Temperature °C
                show: true
                showAlways: true
                showForNullSeries: true
                opposite: false
                reversed: false
                logarithmic: false
                tickAmount: 1
                forceNiceScale: false
                floating: false
                decimalsInFloat: 0
              chart:
                height: 150
                # zoom:
                #   type: y
                #   enabled: true
                #   autoScaleXaxis: false
              dataLabels:
                enabled: true
                dropShadow:
                  enabled: true
            # y_axis_precision: 0
            graph_span: 2h
            all_series_config:
              show:
                legend_value: false
              stroke_width: 1
              curve: stepline
            update_delay: 3s

            series:
              - entity: binary_sensor.ffmpeg_baby_noise_tom
                transform: "return x === 'on' ? 1 : 0;"
                fill_raw: last
                name: geluid
                group_by:
                  duration: 1m
                  func: avg
              # - entity: binary_sensor.tom_cam_motion
              #   transform: "return x === 'on' ? 1 : 0;"
              #   fill_raw: last
              #   name: beweging
              #   group_by:
              #     duration: 1m
              #     func: avg
            style:
              left: 14%
              top: 90%
              width: 20%

          # - type: image
          #   image: /local/ui/ui_img/duco_title.png
          #   style:
          #     left: 14.5%
          #     top: 38.5%
          #     width: 23.5%

          # - type: custom:button-card
          #   tap_action:
          #     haptic: medium
          #     action: call-service
          #     service: input_select.select_option
          #     service_data:
          #       option: maxpending
          #       entity_id: input_select.duco_status
          #   entity: input_select.duco_status
          #   state:
          #     - value: 'uit'
          #       color: white
          #       label: uit
          #       font-size: 15px
          #   label: aan
          #   styles:
          #     label:
          #       - color: grey
          #   show_name: false
          #   size: 50%
          #   show_label: true
          #   color_type: icon
          #   color: white
          #   icon: mdi:power-standby

          #   show_state: false
          #   hold_action:
          #     action: none
          #   style:
          #     left: 6%
          #     top: 47%
          #     width: 5%
          # - type: custom:button-card
          #   color_type: icon

          #   tap_action:
          #     action: call-service
          #     haptic: medium
          #     service: input_select.select_option
          #     service_data:
          #       entity_id: input_select.duco_status
          #       option: autopending
          #   entity: input_select.duco_status
          #   size: 50%
          #   styles:
          #     label:
          #       - color: grey
          #       - font-size: 15px
          #   state:
          #     - value: 'auto'
          #       color: var(--primary-color)
          #     - value: 'autopending'
          #       color: '#f2b236'
          #   show_name: false
          #   show_label: true
          #   label: auto
          #   color: grey
          #   icon: mdi:air-purifier
          #   show_state: false
          #   hold_action:
          #     action: none
          #   style:
          #     left: 12%
          #     top: 47%
          #     width: 5%
          # - type: custom:button-card
          #   color_type: icon
          #   entity: input_select.duco_status
          #   size: 50%
          #   styles:
          #     label:
          #       - color: grey
          #       - font-size: 15px
          #   state:
          #     - value: 'max'
          #       color: var(--primary-color)
          #     - value: 'maxpending'
          #       color: '#f2b236'
          #   show_name: false
          #   show_label: true
          #   name:  max
          #   label: max
          #   icon: mdi:rocket-launch-outline
          #   show_state: false
          #   hold_action:
          #     action: none
          #   style:
          #     left: 18%
          #     top: 47%
          #     width: 5%
          #   tap_action:
          #     action: call-service
          #     service: input_select.select_option
          #     service_data:
          #       option: maxpending
          #       entity_id: input_select.duco_status

          # - type: conditional
          #   conditions:
          #     - entity: timer.luchtventilatie
          #       state_not: "idle"
          #   elements:

          #     - type: custom:timer-bar-card
          #       entity: timer.luchtventilatie
          #       active_icon: ""
          #       name: ""
          #       style:
          #         left: 19%
          #         top: 58%
          #         width: 19%
          #       full_row: true

          # - type: custom:button-card
          #   entity: timer.luchtventilatie

          #   show_name: false
          #   color: white
          #   size: 50%
          #   show_label: true
          #   show_state: false
          #   styles:
          #     label:
          #       - font-size: 18px
          #   tap_action:
          #     action: call-service
          #     service: script.stop_timer_luchtreiniger
          #   icon: mdi:rocket-launch-outline
          #   show_icon: false
          #   label: X
          #   hold_action:
          #     action: none
          #   style:
          #     left: 6%
          #     top: 58%
          #     width: 5%
          # - type: conditional
          #   conditions:
          #     - entity: timer.luchtventilatie
          #       state: "idle"
          #   elements:
          #     - type: custom:button-card
          #       tap_action:
          #         action: call-service
          #         service: script.start_luchtventilatie_timer
          #       entity: timer.luchtventilatie

          #       show_name: false
          #       size: 50%
          #       show_label: true
          #       show_state: false
          #       styles:
          #         label:
          #           - font-size: 18px

          #       icon: mdi:rocket-launch-outline
          #       show_icon: false
          #       label: set
          #       hold_action:
          #         action: none
          #       style:
          #         left: 6%
          #         top: 58%
          #         width: 5%
          # - type: 'custom:mini-graph-card'
          #   unit: w
          #   group_by: hour
          #   animate: true
          #   hours_to_show: 24
          #   entities:
          #     - sensor.luchtventilatie_stekker_current_consumption
          #   show:
          #     state: false
          #     labels: true
          #     name: false
          #   color_thresholds:
          #     - value: 10
          #       color: '#f39c12'
          #     - value: 25
          #       color: '#d35400'
          #     - value: 50
          #       color: '#c0392b'
          #   style:
          #     left: 13.5%
          #     top: 57%
          #     width: 18%

          # - type: custom:slider-entity-row
          #   entity: input_number.duco_timer
          #   full_row: true
          #   hide_when_off: false
          #   style:
          #     left: 19%
          #     top: 58%
          #     width: 20%
          #   hide_state: false
          # active_state: # This option isn't needed due to the defaults
          #   - manual
          #   - program
          # bar_width: 35%
          # compressed: true
          # filter: true # So only the running and scheduled stations are shown

          - type: "custom:button-card"
            aspect_ratio: 1/1.6
            show_name: false
            color: red
            color_type: card
            styles:
              card:
                - --mdc-ripple-press-opacity: 0
            tap_action:
              action: navigate
              navigation_path: /lovelace/1
              haptic: success
            style:
              left: 11%
              top: 33%
              width: 20%
              opacity: 0

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.hue_color_spot_1
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 15%
                  top: 30%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: light.hue_color_spot_1
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: true
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: selection
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:pendant-cher
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                      mode: custom
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    header: Muurspot Tom
                    entity: light.hue_color_spot_1
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)
                    card_mod:
                      style: |
                        ha-card {
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                        }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.dimmable_light_7
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 65%
                  top: 50%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: light.dimmable_light_7
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: true
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: selection
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:pendant-cher
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                      mode: custom
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    header: Logeerkamer Filament
                    entity: light.dimmable_light_7
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)
                    card_mod:
                      style: |
                        ha-card {
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                        }
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.zolderkamer_logeerspots
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 75%
                  top: 60%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: light.zolderkamer_logeerspots
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: true
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: selection
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:pendant-cher
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                      mode: custom
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: false
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    header: Logeerkamer Spots
                    entity: light.zolderkamer_logeerspots
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)
                    card_mod:
                      style: |
                        ha-card {
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                        }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.hue_centura_color_spot_1
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 30%
                  top: 55%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: light.hue_centura_color_spot_1
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: true
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: selection
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:pendant-cher
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                      mode: custom
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }
                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    header: Plafondspot 1
                    entity: light.hue_centura_color_spot_1
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)
                    card_mod:
                      style: |
                        ha-card {
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                        }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.hue_centura_color_spot_1_2
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 30%
                  top: 45%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  # - type: custom:slider-button-card
                  #   entity: light.hue_centura_color_spot_1_2
                  #   slider:
                  #     direction: left-right
                  #     background: gradient
                  #     use_state_color: true
                  #     use_percentage_bg_opacity: true
                  #     show_track: true
                  #     toggle_on_click: false
                  #     force_square: false
                  #   show_name: true
                  #   show_state: false
                  #   compact: true
                  #   icon:
                  #     show: true
                  #     haptic: selection
                  #     use_state_color: true
                  #     tap_action:
                  #       action: none
                  #     icon: hue:pendant-cher
                  #   action_button:
                  #     show: true
                  #     icon: mdi:power-standby
                  #     tap_action:
                  #       action: call-service
                  #       service: script.toggle_light_off
                  #     mode: custom
                  #   card_mod:
                  #     style: |
                  #       ha-card {
                  #         --ha-card-background: black;
                  #         box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                  #         border-radius: 25px !important;
                  #       }

                  - type: custom:more-info-card
                    entity: light.hue_centura_color_spot_1_2
                    style:
                      left: 70%
                      top: 50%
                      width: 18%
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 13% !important;
                          background-color: rgba(10, 10, 10, 0.6) !important;
                        }
                        state-card-toggle {
                          display: none;
                        }
                        .card-header {
                          display: none !important;
                        }
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: fan.open_duco
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 66%
                  top: 20%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: fan.open_duco
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: false
                      show_track: false
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    name: luchtventilatie

                    show_state: true
                    compact: true
                    icon:
                      show: true
                      use_state_color: true
                      tap_action:
                        action: more-info
                    action_button:
                      mode: toggle
                      show: false
                      show_spinner: true
                      tap_action:
                        action: none
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }

          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.zolder_overloopspots
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 86%
                  top: 10%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: light.zolder_overloopspots
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: true
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: selection
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:pendant-cher
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                      mode: custom
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }

                  - type: "custom:light-entity-card"
                    shorten_cards: false
                    hide_header: true
                    consolidate_entities: true
                    persist_features: false
                    brightness: false
                    color_temp: false
                    white_value: false
                    color_picker: true
                    smooth_color_wheel: true
                    child_card: false
                    show_slider_percent: false
                    full_width_sliders: false
                    header: Plafondspot 2
                    entity: light.zolder_overloopspots
                    effects_list: false
                    style:
                      background: rgba(0, 0, 0, 0.7)
                    card_mod:
                      style: |
                        ha-card {
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                        }
          - type: conditional
            conditions:
              - entity: input_text.lamptoggle
                state: light.color_temperature_light_6
            elements:
              - type: custom:vertical-stack-in-card
                style:
                  left: 40%
                  top: 15%
                  width: 20%
                  border-radius: 13px
                  # box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6)
                cards:
                  - type: custom:slider-button-card
                    entity: light.color_temperature_light_6
                    slider:
                      direction: left-right
                      background: gradient
                      use_state_color: true
                      use_percentage_bg_opacity: true
                      show_track: true
                      toggle_on_click: false
                      force_square: false
                    show_name: true
                    show_state: false
                    compact: true
                    icon:
                      show: true
                      haptic: selection
                      use_state_color: true
                      tap_action:
                        action: none
                      icon: hue:pendant-cher
                    action_button:
                      show: true
                      icon: mdi:power-standby
                      tap_action:
                        action: call-service
                        service: script.toggle_light_off
                      mode: custom
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-background: black;
                          box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                          border-radius: 25px !important;
                        }

                  # - type: 'custom:light-entity-card'
                  #   shorten_cards: false
                  #   hide_header: true
                  #   consolidate_entities: true
                  #   persist_features: false
                  #   brightness: false
                  #   color_temp: true
                  #   white_value: true
                  #   color_picker: true
                  #   smooth_color_wheel: true
                  #   child_card: false
                  #   show_slider_percent: false
                  #   full_width_sliders: true
                  #   header: Overloop Filament
                  #   entity: light.color_temperature_light_6
                  #   effects_list: false
                  #   style:
                  #     background: rgba(0, 0, 0, 0.7)
                  #   card_mod:
                  #     style: |
                  #       ha-card {
                  #         box-shadow: 5px 8px 8px 5px rgba(10, 10, 10, 0.6) !important;
                  #       }
